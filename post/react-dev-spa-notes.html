<!DOCTYPE html><html lang="zh-TW" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>【React】JSX 語言 | SPA 單頁應用 | React 前端網頁開發學習筆記 | 🐳 BlueWhaleYT</title><meta name="keywords" content="Node.js,JSX,JavaScript,TypeScript,HTML,CSS,Bash"><meta name="author" content="BlueWhaleYT"><meta name="copyright" content="BlueWhaleYT"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="【React】JSX 語言 | SPA 單頁應用 | React 前端網頁開發學習筆記"><meta name="application-name" content="【React】JSX 語言 | SPA 單頁應用 | React 前端網頁開發學習筆記"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="【React】JSX 語言 | SPA 單頁應用 | React 前端網頁開發學習筆記"><meta property="og:url" content="https://bluewhaleyt.github.io/post/react-dev-spa-notes.html"><meta property="og:site_name" content="🐳 BlueWhaleYT"><meta property="og:description" content="當你想編寫集中處理 UI 形式的介面設計及邏輯，你可以嘗嘗 React 這個框架，React 是一個編寫靜態網頁的前端框架，但有別於 HTML，React 可以單方面嵌入 React 元件到既有的 HTML 檔案，不影響整個網站之外，亦可以嘗試一下 React 元件的功能，當你慢慢熟練了 Rea"><meta property="og:locale" content="zh-TW"><meta property="og:image" content="https://i.imgur.com/CBrFp2g.png"><meta property="article:author" content="BlueWhaleYT"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://i.imgur.com/CBrFp2g.png"><meta name="description" content="當你想編寫集中處理 UI 形式的介面設計及邏輯，你可以嘗嘗 React 這個框架，React 是一個編寫靜態網頁的前端框架，但有別於 HTML，React 可以單方面嵌入 React 元件到既有的 HTML 檔案，不影響整個網站之外，亦可以嘗試一下 React 元件的功能，當你慢慢熟練了 Rea"><link rel="shortcut icon" href="https://i.ibb.co/zRvn96K/personal-icon.jpg"><link rel="canonical" href="https://bluewhaleyt.github.io/post/react-dev-spa-notes"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: undefined,
  diytitle: undefined,
  LA51: undefined,
  greetingBox: {"enable":true,"default":"你好","list":[{"greeting":"凌晨時分了，怎麼還在這裏呢？","startTime":0,"endTime":5},{"greeting":"早安！新的一天又開始了！","startTime":6,"endTime":10},{"greeting":"午安！吃飽了嗎？","startTime":11,"endTime":13},{"greeting":"下午好！加油，再堅持一下！","startTime":14,"endTime":17},{"greeting":"晚上好！晚餐吃得好嗎？","startTime":18,"endTime":21},{"greeting":"夜深了，該休息了！晚安！","startTime":22,"endTime":24}]},
  twikooEnvId: 'https://personal-blog-comment-chi.vercel.app/',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: false,
  mainTone: {"mode":"both","api":"https://img2color-go.vercel.app/api?img=","cover_change":true},
  authorStatus: {"skills":null},
  algolia: {"appId":"H6305XRFBV","apiKey":"c7fec314f2f79c2fbcd28846bf0cfbfe","indexName":"hexo","hits":{"per_page":6},"languages":{"input_placeholder":"輸入關鍵字後按下回車查找","hits_empty":"找不到您查詢的內容：${query}","hits_stats":"找到 ${hits} 條結果，用時 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '複製成功',
    error: '複製錯誤',
    noSupport: '瀏覽器不支援'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '剛剛',
    min: '分鐘前',
    hour: '小時前',
    day: '天前',
    month: '個月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: BlueWhaleYT","link":"連結: ","source":"來源: 🐳 BlueWhaleYT","info":"著作權歸作者所有。商業轉載請聯絡作者獲得授權，非商業轉載請註明出處。","copySuccess":"複製成功，複製和轉載請標注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切換為繁體","cht_to_chs":"你已切換為簡體","day_to_night":"你已切換為深色模式","night_to_day":"你已切換為淺色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '🐳 BlueWhaleYT',
  title: '【React】JSX 語言 | SPA 單頁應用 | React 前端網頁開發學習筆記',
  postAI: '',
  pageFillDescription: '嵌入 React 元件到既有 HTML 檔案, 編寫 JSX 語法至 HTML 網頁 ltscriptgt 標記, 編寫 JSX 語法要注意的要點, 配置 React 環境及項目, 深入編寫 JSX 及使用 React 框架, 匯入 CSS 樣式, 使用路由導向不同頁面, 賦予參數傳遞至路由, 可重複使用的元件, 元件類別, 使用鉤子 (Hooks), useState, useEffect, useContext, 編寫 TypeScript 使用 React 框架當你想編寫集中處理形式的介面設計及邏輯你可以嘗嘗這個框架是一個編寫靜態網頁的前端框架但有別於可以單方面嵌入元件到既有的檔案不影響整個網站之外亦可以嘗試一下元件的功能當你慢慢熟練了怎樣用就可以開始砍掉重練由零開始全面編寫一個使用框架的前端靜態網頁的特點如下使用單頁應用模式運行網頁單頁應用簡稱是一個不需要頻繁向伺服器獲取及載入網頁資源因為單頁應用只會在第一次向伺服器請求獲取網頁資源其後再次載入網頁就不會再向伺服器獲取而是經過路由獲取資源所以載入需時極短有效提升用戶體驗所以你在網頁在導向不同頁面時鮮少會看到會有瀏覽器的載入條顯示與它相反的就是絕大多數都使用的多頁應用簡稱模式例如通用的網頁開發在導向不同頁面時每次都需要向伺服器請求資源重新加載不需要學習其他的程式語言使用原生的及額外增設的語法編寫網頁使得熟悉網頁前端編寫員可以輕易導入並初嘗框架虛擬處理實際管理的是一個實際的抽象物件使用虛擬來追蹤狀態變化並在需要更新實際時進行最小化的操作當應用程序的狀態發生變化時會在虛擬中進行更新然後計算出實際中需要修改的部分並只更新這些部分而不是整個樹直接操作實際是非常耗費資源的所以虛擬機制提高了應用程序的效能使用元件組合機制每一個介面都擁有許多獨立編寫的元件進而可以透過併併湊湊隨時把適用的元件組合嵌入到相應頁面這點亦可提高程式碼複用率另外每個組件都該有以下特性可重用每個組件都具有獨立功能可被應用於不同的介面可組合每個組件都可與其他組件一起使用不會發生衝突或是嵌入於其他組件之內可維護每個組件具有其邏輯更容易理解除錯及維護嵌入元件到既有檔案是具有彈性的為了能讓初學者可以慢慢學習我們不需要因為網站是使用編寫而重寫網站一遍在這個方案下我們會把網頁部分內容交託予管理簡單來說就是像一些元件嵌入至網頁在匯入函式庫及是整個框架最核心的套件不過在使用的時候都需要把匯入因為是負責瀏覽器及渲染的操作簡單來說是針對編寫網頁而使用的個人認為既然是核心套件應該名為類似這些名稱會較為適合至少不會把它們彼此混淆吧另外有一點在編寫的時候要注意的編寫雖然看似都是使用語法但實際上是一個全稱為語法這個語法是用來渲染元件及其相關程式邏輯而一般的是不支援使用的語法的同時瀏覽器只懂得語言所以在這一方面我們需要把轉譯為語法我們可以使用函式庫進行轉譯編寫語法至網頁標記預設的是註明以一般的語言來編寫但現在要編寫語法我們就要特別註明手稿是將會被轉譯在當然就是把編寫的轉譯為語法一旦加上了語法註明就可以開始寫把元件顯示到網頁上首先我們會在定義一個作為容器的在裏我們可以宣告一個名為的函式型元件純粹對應的容器名稱這元件返回的就會是語法的佈局要渲染的獨立元件獨立元件渲染的目標然後使用把獨立元件渲染到指定為的函式型元件編寫語法要注意的要點因為這個是不是普通裏面寫的亦不完全是所以你需要注意一下編寫要注意的地方返回的只能是單一的根元件不能返回多個根元件比如第一個根元件為第二個根元件為這樣的方式是錯的因為它返回了多個根元件加入類別應使用這個可以有點斟酌因為單純嵌入元件至網頁的話使用是沒有問題的但當你要全面使用的時候仍然使用就會報錯所以強烈建議養成習慣在改用的語法作用區域在之前的代碼會被視為語法其後則被視為語法如果要在元件內執行就需要用直接執行而定義註解可以用一組定義註解目前是語法部分目前是語法部分如果你只是想簡單把元件嵌入至網頁的話你現在應該掌握這技巧了現在就會記錄全面使用框架配置環境及項目當你決定好要把網頁全部內容都交託予管理時就可以安裝了不過在配置之前你要確保已經安裝了因為是屬於的套件所以你需要確保順利運行才能夠安裝接下來的框架引用站外地址環境配置可以看看這篇文章瞭解怎樣配置環境我們不會匯入形式的函式庫而是直接安裝相關套件同樣都是及套件因為全面的項目需要一定的檔案和格式而且人手創建項目是很愚蠢的一件事因為需要的檔案都蠻多的反正你就不會想手動創建就是了我們會使用套件快速建立起始項目項目名稱項目名稱想立即看看這個模板項目是怎麼的樣子可以運行看看資料夾內的是用來管理搜尋你可以在這檔案訂立規則深入編寫及使用框架現在就會深入編寫更多及使用框架不同工具匯入樣式先來說說講求美觀的要怎樣應用於原來可以有幾種不同方式匯入樣式的單行編寫的是的屬性不能以原本的語音編寫在加入的屬性前你需要加上一對至於轉換方式不需要特別牢記反正大部分都是把蛇形表示式改成小駝峰型表示式比如只有少數不是這樣有需要的就看總表參閱對照引用站外地址屬性與屬性對照匯入匯入外部的檔案所以會以原來語法編寫不過這個做法不建議大型項目使用首先匯入需要用的檔案假如你有一個樣式然後用的時候就比如匯入同樣都是匯入外部檔案不過我們可以確保單個組件元件的所有樣式集中在同一個地方確保元件樣式只應用於該組件以及解決全局作用域的問題剛剛說為什麼不建議第種方法應用於大型項目主要是因為較容易重複樣式名稱假設你有一個獨立元件檔案然後建立一個名為檔案匯入假如你有一個樣式使用路由導向不同頁面一個多頁網站最基本能做到的就是有多個頁面在使用單頁應用模式建立多頁是很一件很簡單的事與此同時都是很適合的事因為剛才都說過單頁應用模式只會在第一次向伺服器獲取資源所以在單頁模式下實現許多頁面都不會影響對伺服器的負荷我們會使用工具建立頁面路由系統需要安裝套件現在就建立不同頁面的獨立元件檔案例如及的頁面是用來顯示找不到網頁的訊息的首頁關於我們聯絡我們錯誤找不到頁面例如在匯入需要用到的常用物件及當然還有要用的頁面通常都會被定義為根元素是一個管理路由及變化的容器裏面裝載的就容器用於定義應用程序的路由配置定義不同的元件即定義不同路徑繼而可以將和相應的組件進行映射定義單個路由通常接受兩個參數第一個參數是路徑第二個參數是要渲染的元件用於生成應用程序中的連結它接受一個屬性指定要導航到的當用戶點擊這個連結時路由庫將處理的變化並渲染相應的組件首頁關於我們聯絡我們原意是想使用框架所以提供了元件如果不使用元件使用了的標記的話的確可以導向頁面不過會向伺服器發出請求而不是從路由獲取頁面資源那就有違了的原則亦都導致你的網頁變得不倫不類賦予參數傳遞至路由當你想編寫不同的動態頁面內容你可以試試傳遞參數例如傳遞一個獨一無二的作為參數再傳遞至路由從而根據所獲取的而顯示相應的資料內容假如現在有一個用來根據路由參數的輸入來觀察所傳遞的參數我們會使用到工具把參數傳遞至路由然後在作一些變更假如現在我們想傳遞為路由查詢參數那就在子的屬性設置為記住需要加上冒號當你在瀏覽器點擊的導向頁面後再加上參數如網頁內容會顯示可重複使用的元件我們可以編寫可重複使用的元件例如使用一致樣式的元件但不同文本內容及顏色可以使用來把屬性設定為了方便管理可重用元件可以建立一個名為資料夾新建要傳一個參數要使用的時候就像一個自訂屬性的形式定義首頁這個及屬性均會被傳入到元件的參數就可以利用及獲取對應的值你亦可選擇把參數解構賦值那就不需要用作前綴解構賦值以下筆記內容尚未完成整理這個部分的內容暫時略寫待有空再處理瀏覽未完成內容元件類別類別式元件咸豐年代時定義元件的方式需要另外一個然後要用方法把元件渲染出來現在幾乎一一都取代為使用函式型元件函式型元件獨立元件檔案簡短簡易通常獨立元件檔案就會用這種如果這些獨立元件是比較簡短的不需要太多程式碼可使用箭頭函式使用鉤子基本的鉤子有個是空的依賴陣列沒有提供第二個參數這個參數是一個依賴陣列該元件會在網頁每次渲染時都會觸發當依賴陣列是空陣列只會在網頁第一次渲染時觸發當依賴陣列存有變量會在網頁第一次渲染時而且當指定變量有改變的時候會觸發編寫使用框架其實可能這部分內容會太長會考慮以個別形式另建新筆記文章集中記錄在遷移至部分如果你不是編寫或者已經改用了的話這裏都簡單記錄了怎樣編寫使用框架使用來寫是更勝一籌的因為是有類型檢查功能更容易處理類型相關的錯誤而是後知後覺的同樣都會使用工具創建項目不過註明使用模板項目名稱項目名稱模板會自動安裝了以下套件如果你想在既有項目加入就要手動安裝',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024 年 01 月 10 日 17 時 52 分 13 秒',
  postMainColor: '#48dbfb',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/codethemes/code-dark-new.css" media="defer" onload="this.media='all'"><!-- hexo injector head_end start --><style type="text/css">
.CodeMirror-lines,.line,.code-output,.code,.token {
    font-size: 16px;
    line-height: 22px;
}
</style><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.0.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://i.ibb.co/zRvn96K/personal-icon.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">item1</div><div class="back-menu-list"><a class="back-menu-item" href="/null" title="item1name"><img class="back-menu-item-icon" src="/img/favicon.ico" alt="item1name"/><span class="back-menu-item-text">item1name</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">item2</div><div class="back-menu-list"><a class="back-menu-item" href="/null" title="item2name"><img class="back-menu-item-icon" src="https://image.anheyu.com/favicon.ico" alt="item2name"/><span class="back-menu-item-text">item2name</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">🐳 BlueWhaleYT</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 彙整頁</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分類頁</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 標籤頁</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 工具</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="https://bluewhaleyt.github.io/monaco-text-compare"><i class="anzhiyufont anzhiyu-icon-file-lines faa-tada" style="font-size: 0.9em;"></i><span> 文本比較編輯器</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜尋</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新評論</span></div><div class="aside-list"><span>正在載入中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Android/" style="font-size: 1.05rem;">Android<sup>11</sup></a><a href="/tags/Bash/" style="font-size: 1.05rem;">Bash<sup>5</sup></a><a href="/tags/C/" style="font-size: 1.05rem;">C++<sup>1</sup></a><a href="/tags/CSS/" style="font-size: 1.05rem;">CSS<sup>2</sup></a><a href="/tags/EJS/" style="font-size: 1.05rem;">EJS<sup>1</sup></a><a href="/tags/Express/" style="font-size: 1.05rem;">Express<sup>2</sup></a><a href="/tags/HTML/" style="font-size: 1.05rem;">HTML<sup>3</sup></a><a href="/tags/JSON/" style="font-size: 1.05rem;">JSON<sup>1</sup></a><a href="/tags/JSX/" style="font-size: 1.05rem;">JSX<sup>1</sup></a><a href="/tags/Java/" style="font-size: 1.05rem;">Java<sup>4</sup></a><a href="/tags/JavaScript/" style="font-size: 1.05rem;">JavaScript<sup>3</sup></a><a href="/tags/Kotlin/" style="font-size: 1.05rem;">Kotlin<sup>9</sup></a><a href="/tags/Lua/" style="font-size: 1.05rem;">Lua<sup>1</sup></a><a href="/tags/Markdown/" style="font-size: 1.05rem;">Markdown<sup>1</sup></a><a href="/tags/NDK/" style="font-size: 1.05rem;">NDK<sup>1</sup></a><a href="/tags/Node-js/" style="font-size: 1.05rem;">Node.js<sup>4</sup></a><a href="/tags/Roblox/" style="font-size: 1.05rem;">Roblox<sup>1</sup></a><a href="/tags/TypeScript/" style="font-size: 1.05rem;">TypeScript<sup>1</sup></a><a href="/tags/YAML/" style="font-size: 1.05rem;">YAML<sup>2</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>歸檔</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/05/"><span class="card-archive-list-date">五月 2020</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/React/" itemprop="url">React</a><i class="anzhiyufont anzhiyu-icon-angle-right post-meta-separator"></i><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%B6%B2%E9%A0%81%E9%96%8B%E7%99%BC/" itemprop="url">網頁開發</a><i class="anzhiyufont anzhiyu-icon-angle-right post-meta-separator"></i><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF%E9%96%8B%E7%99%BC/" itemprop="url">前端開發</a><i class="anzhiyufont anzhiyu-icon-angle-right post-meta-separator"></i><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%A9%B3%E7%B4%B0%E7%AD%86%E8%A8%98/" itemprop="url">詳細筆記</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/Node-js/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Node.js</span></a><a class="article-meta__tags" href="/tags/JSX/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>JSX</span></a><a class="article-meta__tags" href="/tags/JavaScript/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>JavaScript</span></a><a class="article-meta__tags" href="/tags/TypeScript/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>TypeScript</span></a><a class="article-meta__tags" href="/tags/HTML/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>HTML</span></a><a class="article-meta__tags" href="/tags/CSS/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>CSS</span></a><a class="article-meta__tags" href="/tags/Bash/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Bash</span></a></span></div></div><h1 class="post-title" itemprop="name headline">【React】JSX 語言 | SPA 單頁應用 | React 前端網頁開發學習筆記</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">發表於</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2024-01-08T11:15:19.000Z" title="發表於 2024 年 01 月 08 日 19 時 15 分 19 秒">2024 年 01 月 08 日</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新於</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2024-01-10T09:52:13.638Z" title="更新於 2024 年 01 月 10 日 17 時 52 分 13 秒">2024 年 01 月 10 日</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字數總計:</span><span class="word-count" title="文章字数">4.5k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">閱讀時長:</span><span>16分鐘</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="【React】JSX 語言 | SPA 單頁應用 | React 前端網頁開發學習筆記"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">閱讀量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator"></span><span class="post-meta-commentcount"><i class="anzhiyufont anzhiyu-icon-comments post-meta-icon"></i><span class="post-meta-label">評論數:</span><a href="/post/react-dev-spa-notes.html#post-comment"><span class="waline-comment-count" data-path="/post/react-dev-spa-notes.html"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></a></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://i.imgur.com/CBrFp2g.png"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://bluewhaleyt.github.io/post/react-dev-spa-notes.html"><header><a class="post-meta-categories" href="/categories/React/" itemprop="url">React</a><a class="post-meta-categories" href="/categories/%E7%B6%B2%E9%A0%81%E9%96%8B%E7%99%BC/" itemprop="url">網頁開發</a><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF%E9%96%8B%E7%99%BC/" itemprop="url">前端開發</a><a class="post-meta-categories" href="/categories/%E8%A9%B3%E7%B4%B0%E7%AD%86%E8%A8%98/" itemprop="url">詳細筆記</a><a href="/tags/Node-js/" tabindex="-1" itemprop="url">Node.js</a><a href="/tags/JSX/" tabindex="-1" itemprop="url">JSX</a><a href="/tags/JavaScript/" tabindex="-1" itemprop="url">JavaScript</a><a href="/tags/TypeScript/" tabindex="-1" itemprop="url">TypeScript</a><a href="/tags/HTML/" tabindex="-1" itemprop="url">HTML</a><a href="/tags/CSS/" tabindex="-1" itemprop="url">CSS</a><a href="/tags/Bash/" tabindex="-1" itemprop="url">Bash</a><h1 id="CrawlerTitle" itemprop="name headline">【React】JSX 語言 | SPA 單頁應用 | React 前端網頁開發學習筆記</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">BlueWhaleYT</span><time itemprop="dateCreated datePublished" datetime="2024-01-08T11:15:19.000Z" title="發表於 2024 年 01 月 08 日 19 時 15 分 19 秒">2024 年 01 月 08 日</time><time itemprop="dateCreated datePublished" datetime="2024-01-10T09:52:13.638Z" title="更新於 2024 年 01 月 10 日 17 時 52 分 13 秒">2024 年 01 月 10 日</time></header><div class="note info simple" data-content="React"></div>

<p>當你想編寫集中處理 UI 形式的介面設計及邏輯，你可以嘗嘗 React 這個框架，React 是一個編寫靜態網頁的前端框架，但有別於 HTML，React 可以<strong>單方面嵌入 React 元件到既有的 HTML 檔案</strong>，不影響整個網站之外，亦可以嘗試一下 React 元件的功能，當你慢慢熟練了 React 怎樣用，就可以開始「砍掉重練」，由零開始全面編寫一個使用 React 框架的前端靜態網頁。</p>
<p>React 的特點如下：</p>
<ol>
<li>使用<strong>單頁應用</strong>模式運行網頁，單頁應用 (Single Page Application，簡稱 SPA) 是一個不需要頻繁向伺服器獲取及載入網頁資源，因為單頁應用<strong>只會在第一次向伺服器請求獲取網頁資源</strong>，其後再次載入網頁就<strong>不會再向伺服器獲取，而是經過路由獲取資源</strong>，所以載入需時極短，有效提升用戶體驗。所以你在 React 網頁在導向不同頁面時，<strong>鮮少會看到會有瀏覽器的載入條顯示</strong>。<br>與它相反的就是絕大多數都使用的<strong>多頁應用</strong> (Multiple Page Application，簡稱 MPA) 模式，例如通用的 HTML 網頁開發，在導向不同頁面時，<strong>每次都需要向伺服器請求資源</strong>，重新加載。</li>
<li>不需要學習其他的程式語言，使用<strong>原生的 JavaScript</strong> 及額外增設的 <strong>JSX 語法</strong>編寫 React 網頁，使得熟悉 HTML 網頁前端編寫員可以輕易導入並初嘗 React 框架。</li>
<li>虛擬 DOM 處理，React 實際管理的是一個實際 DOM 的抽象物件，使用虛擬 DOM 來追蹤狀態變化，並在需要更新實際 DOM 時<strong>進行最小化的操作</strong>。當應用程序的狀態發生變化時，React 會在虛擬 DOM 中進行更新，然後計算出實際 DOM 中需要修改的部分，並<strong>只更新這些部分，而不是整個 DOM 樹</strong>。<strong>直接操作實際 DOM 是非常耗費資源</strong>的，所以虛擬 DOM 機制提高了應用程序的效能。</li>
<li>使用元件組合機制，每一個介面都擁有<strong>許多獨立編寫的元件</strong>，進而可以透過<strong>併併湊湊</strong>，隨時把適用的元件組合、嵌入到相應頁面，這點亦可提高程式碼複用率。另外：每個組件都該有以下特性：<ul>
<li>可重用：每個組件都具有獨立功能，可被應用於不同的 UI 介面</li>
<li>可組合：每個組件都可與其他組件一起使用，不會發生衝突，或是嵌入於其他組件之內</li>
<li>可維護：每個組件具有其邏輯，更容易理解、除錯及維護</li>
</ul>
</li>
</ol>
<hr>
<h1 id="嵌入-React-元件到既有-HTML-檔案"><a href="#嵌入-React-元件到既有-HTML-檔案" class="headerlink" title="嵌入 React 元件到既有 HTML 檔案"></a>嵌入 React 元件到既有 HTML 檔案</h1><p>React 是具有彈性的，為了能讓初學者可以慢慢學習 React，我們不需要因為網站是使用 HTML 編寫而重寫網站一遍，在這個方案下，我們會把<strong>網頁部分內容交託予 React 管理</strong>，簡單來說，就是像一些 React 元件嵌入至 HTML 網頁。</p>
<p>在 HTML 匯入 React 函式庫 <code>react</code> 及 <code>react-dom</code>：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react.js&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react-dom.js&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<div class="note info simple"><p><code>react</code> 是整個 React 框架最核心的套件，不過，在使用 React 的時候，都需要把 <code>react-dom</code> 匯入，因為 <code>react-dom</code> 是負責瀏覽器及 DOM 渲染的操作，簡單來說， <strong><code>react-dom</code> 是針對編寫網頁 (Web) 而使用的</strong> 。 </p>
</div>

<blockquote>
<p>個人認為既然 <code>react</code> 是核心套件，應該名為類似 <code>react-core</code> 這些名稱會較為適合，至少不會把它們彼此混淆吧。</p>
</blockquote>
<p>另外，有一點在編寫 React 的時候要注意的，編寫 React <strong>雖然看似都是使用 JavaScript 語法</strong>，但實際上是一個 JSX (全稱為 JavaScript XML) 語法，這個語法是用來渲染 React 元件及其相關程式邏輯，而<strong>一般的 JavaScript 是不支援 React 使用的語法的</strong>。</p>
<p>同時，<strong>瀏覽器只懂得 JavaScript 語言</strong>，所以在這一方面我們需要把 JavaScript 轉譯為 JSX 語法，我們可以使用 <a target="_blank" rel="noopener" href="https://babeljs.io/setup#installation">Babel</a> 函式庫進行轉譯。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/@babel/standalone/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="編寫-JSX-語法至-HTML-網頁-lt-script-gt-標記"><a href="#編寫-JSX-語法至-HTML-網頁-lt-script-gt-標記" class="headerlink" title="編寫 JSX 語法至 HTML 網頁 &lt;script&gt; 標記"></a>編寫 JSX 語法至 HTML 網頁 <code>&lt;script&gt;</code> 標記</h2><p>預設的 <code>&lt;script&gt;</code> 是註明以一般的 JavaScript 語言來編寫，但現在要編寫 JSX 語法，我們就要<strong>特別註明手稿是將會被 Babel 轉譯</strong>，在 React，當然就是把編寫的 JavaScript 轉譯為 JSX 語法。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ...</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>一旦加上了 <code>text/babel</code> 語法註明，就可以開始寫 JSX，把 React 元件顯示到 HTML 網頁上。</p>
<p>首先，我們會在 HTML 定義一個作為 React 容器的 <code>&lt;div&gt;</code>。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>在 <code>&lt;script&gt;</code> 裏，我們可以宣告一個名為 <code>Root</code> 的函式型元件 (純粹對應 HTML 的容器 ID 名稱)，這元件返回的就會是 JSX 語法的 React 佈局。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">Root</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span>(</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Root</span>/&gt;</span></span>,                            <span class="comment">// 要渲染的獨立元件</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#root&#x27;</span>)     <span class="comment">// 獨立元件渲染的目標</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>然後使用 <code>ReactDOM</code> 把獨立元件 <code>Root</code> 渲染到指定 ID 為 <code>root</code> 的函式型元件。</p>
<hr>
<h1 id="編寫-JSX-語法要注意的要點"><a href="#編寫-JSX-語法要注意的要點" class="headerlink" title="編寫 JSX 語法要注意的要點"></a>編寫 JSX 語法要注意的要點</h1><p>因為這個是 JSX，<strong>不是普通 JavaScript，裏面寫的亦不完全是 HTML</strong>，所以你需要注意一下編寫 JSX 要注意的地方。</p>
<ol>
<li>返回的<strong>只能是單一的根元件</strong>，不能返回多個根元件，比如：<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span>(</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>                   &#123;/* 第一個根元件為 div */&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>I am an error<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>    &#123;<span class="comment">/* 第二個根元件為 p */</span>&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
這樣的方式是錯的，因為它返回了多個根元件。</li>
<li>加入 CSS 類別 <code>class</code> <strong>應使用 <code>className</code></strong> ，這個可以有點斟酌，因為單純嵌入 React 元件至 HTML 網頁的話，使用 <code>class</code> 是沒有問題的，但當你要全面使用 React 的時候，仍然使用 <code>class</code> 就會報錯，所以強烈建議養成習慣，在 React 改用 <code>className</code>。<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">- &lt;p class=&quot;test&quot;&gt;Test&lt;/p&gt;</span></span><br><span class="line"><span class="addition">+ &lt;p className=&quot;test&quot;&gt;Test&lt;/p&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>React 的 JSX 語法作用區域，在 <strong><code>return</code> 之前的代碼會被視為 JavaScript 語法</strong>，<strong>其後則被視為 HTML 語法</strong>，如果要在元件內執行 JavaScript，就需要用 <code>&#123; &#125;</code> 直接執行，而定義註解 (comment)，可以用一組 <code>&#123;/* */&#125;</code> 定義註解<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">App</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 目前是 JavaScript 語法部分</span></span><br><span class="line">    <span class="keyword">const</span> str = <span class="string">&quot;World&quot;</span></span><br><span class="line">    <span class="keyword">return</span>(</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123; /* 目前是 HTML 語法部分 */&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello &#123;str.toUpperCase()&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>如果你只是想簡單把 React 元件嵌入至 HTML 網頁的話，你現在應該掌握這技巧了，現在就會記錄全面使用 React 框架。</p>
<hr>
<h1 id="配置-React-環境及項目"><a href="#配置-React-環境及項目" class="headerlink" title="配置 React 環境及項目"></a>配置 React 環境及項目</h1><p>當你決定好要把 <strong>網頁全部內容都交託予 React 管理</strong> 時，就可以安裝 React 了，不過，在配置 React 之前，<strong>你要確保已經安裝了 Node.js</strong>，因為 React 是屬於 Node.js 的 NPM 套件，所以你需要確保 Node.js 順利運行，才能夠安裝接下來的 React 框架。</p>
<div calss="anzhiyu-tag-link"><a class="tag-Link" target="_blank" href="/post/web-dev-nodejs-express-notes">
    <div class="tag-link-tips">引用站外地址</div>
    <div class="tag-link-bottom">
        <div class="tag-link-left" style>
          <i class="anzhiyufont anzhiyu-icon-link" style></i>
        </div>
        <div class="tag-link-right">
            <div class="tag-link-title">Node.js 環境配置</div>
            <div class="tag-link-sitename"> 可以看看這篇文章瞭解怎樣配置 Node.js 環境</div>
        </div>
        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>
    </div>
    </a></div>

<p><strong>我們不會匯入 HTML 形式的 JS 函式庫</strong>，而是直接安裝 NPM 相關套件，同樣都是 <code>react</code> 及 <code>react-dom</code> 套件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i react react-dom</span><br></pre></td></tr></table></figure>

<p>因為全面的 React 項目需要一定的檔案和格式，而且人手創建 React 項目是很愚蠢的一件事，因為需要的檔案都蠻多的。。。反正你就不會想手動創建就是了。</p>
<p>我們會使用 <code>create-react-app</code> 套件快速建立 React 起始項目。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npx create-react-app 項目名稱</span><br><span class="line"><span class="built_in">cd</span> 項目名稱</span><br></pre></td></tr></table></figure>

<p>想立即看看這個模板項目是怎麼的樣子，可以運行看看：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run start</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="/post/react-dev-spa-notes/img1.png" alt="create-react-app 模板"></p>
<div class="note info simple"><p><code>public</code> 資料夾內的 <code>robots.txt</code> 是<strong>用來管理 SEO 搜尋</strong>，你可以在這檔案訂立規則。</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># https://www.robotstxt.org/robotstxt.html</span></span><br><span class="line"><span class="attr">User-agent:</span> <span class="string">*</span></span><br><span class="line"><span class="attr">Disallow:</span></span><br></pre></td></tr></table></figure></div>

<hr>
<h1 id="深入編寫-JSX-及使用-React-框架"><a href="#深入編寫-JSX-及使用-React-框架" class="headerlink" title="深入編寫 JSX 及使用 React 框架"></a>深入編寫 JSX 及使用 React 框架</h1><p>現在就會深入編寫更多 JSX 及使用 React 框架不同工具。</p>
<h2 id="匯入-CSS-樣式"><a href="#匯入-CSS-樣式" class="headerlink" title="匯入 CSS 樣式"></a>匯入 CSS 樣式</h2><p>先來說說講求美觀的 CSS 要怎樣應用於 React，原來可以有幾種不同方式匯入 CSS 樣式的。</p>
<ol>
<li>單行 CSS：<strong>編寫的是 JavaScript 的 CSS 屬性</strong>，不能以原本的 CSS 語音編寫，在加入 JavaScript 的 CSS 屬性前，你需要加上一對 <code>&#123;&#123; &#125;&#125; </code>。<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p style=&#123;&#123;<span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span>&#125;&#125;&gt;<span class="title class_">Hello</span> <span class="title class_">World</span>&lt;/p&gt;</span><br></pre></td></tr></table></figure>
至於「轉換」方式不需要特別牢記，反正 <strong>大部分都是把蛇形表示式 (<code>snake-case</code>) 改成小駝峰型表示式 (<code>lowerCamelCase</code>)</strong> 比如 <code>background-color</code> -&gt; <code>backgroundColor</code>，只有少數不是這樣，有需要的就看總表參閱對照：<div calss="anzhiyu-tag-link"><a class="tag-Link" target="_blank" href="http://www.sitestepper.be/en/css-properties-to-javascript-properties-reference-list.htm">
    <div class="tag-link-tips">引用站外地址</div>
    <div class="tag-link-bottom">
        <div class="tag-link-left" style>
          <i class="anzhiyufont anzhiyu-icon-link" style></i>
        </div>
        <div class="tag-link-right">
            <div class="tag-link-title">CSS 屬性與 JavaScript CSS 屬性對照</div>
            <div class="tag-link-sitename"> </div>
        </div>
        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>
    </div>
    </a></div></li>
<li>匯入 CSS：匯入外部的 CSS 檔案，所以會以原來 CSS 語法編寫。<strong>不過這個做法不建議大型項目使用</strong>。首先匯入需要用的 CSS 檔案：<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./index.css&#x27;</span></span><br></pre></td></tr></table></figure>
假如你有一個 <code>.container &#123; &#125;</code> 樣式，然後用的時候就，比如：<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div className=&#123;container&#125;&gt;</span><br></pre></td></tr></table></figure></li>
<li>匯入 CSS Modules：同樣都是匯入外部 CSS 檔案，不過我們可以確保單個組件（元件）的所有樣式集中在同一個地方、<strong>確保元件樣式只應用於該組件</strong>以及解決 CSS 全局作用域的問題。剛剛說為什麼<strong>不建議第 2 種方法應用於大型項目</strong>，主要是<strong>因為較容易重複樣式 <code>className</code> 名稱</strong>。<br>假設你有一個獨立元件檔案 <code>Hello.js</code>，然後建立一個名為 <code>Hello.module.css</code> 檔案，匯入：<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">&#x27;./Hello.module.css&#x27;</span></span><br></pre></td></tr></table></figure>
假如你有一個 <code>.container &#123; &#125;</code> 樣式：<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div className=&#123;styles.<span class="property">container</span>&#125;&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="使用路由導向不同頁面"><a href="#使用路由導向不同頁面" class="headerlink" title="使用路由導向不同頁面"></a>使用路由導向不同頁面</h2><p>一個多頁網站最基本能做到的就是有多個頁面，在 React，使用<strong>單頁應用模式建立多頁</strong>是很一件很簡單的事，與此同時都是<strong>很適合的事</strong>，因為剛才都說過單頁應用模式只會在第一次向伺服器獲取資源，所以在單頁模式下實現許多頁面，都不會影響對伺服器的負荷。</p>
<p>我們會使用 <a target="_blank" rel="noopener" href="https://reactrouter.com/en/main">React Router</a> 工具建立頁面路由系統，需要安裝 <code>react-router-dom</code> 套件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i react-router-dom</span><br></pre></td></tr></table></figure>

<p>現在就建立不同頁面的獨立元件檔案，例如：<code>Home.js</code>、<code>About.js</code>、<code>Contact.js</code> 及 <code>Error404.js</code>，<code>Error404.js</code> 的頁面是用來顯示「找不到網頁」的訊息的。</p>
<div class="tabs" id="code_router"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="code_router-1">Home.js</button><button type="button" class="tab " data-href="code_router-2">About.js</button><button type="button" class="tab " data-href="code_router-3">Contact.js</button><button type="button" class="tab " data-href="code_router-4">Error404.js</button></ul><div class="tab-contents"><div class="tab-item-content active" id="code_router-1"><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Home</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>首頁<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            Hello World</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="code_router-2"><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">About</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>關於我們<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="code_router-3"><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Contact</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>聯絡我們<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="code_router-4"><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Error404</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>404 錯誤 - 找不到頁面<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div>

<p>例如在 <code>App.js</code> 匯入需要用到的常用物件 <code>BrowserRouter</code>、<code>Routes</code>、<code>Route</code> 及 <code>Link</code>，當然，還有要用的頁面：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BrowserRouter</span>, <span class="title class_">Routes</span>, <span class="title class_">Route</span>, <span class="title class_">Link</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;./pages/Home&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About</span> <span class="keyword">from</span> <span class="string">&#x27;./pages/About&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Contact</span> <span class="keyword">from</span> <span class="string">&#x27;./pages/Contact&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Error404</span> <span class="keyword">from</span> <span class="string">&#x27;./pages/Error404&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>BrowserRouter</code>：<strong>通常都會被定義為根元素</strong>，是一個管理路由及 URL 變化的「容器」，裏面裝載的就<code>Routes</code> 容器。</li>
<li><code>Routes</code>：用於定義應用程序的路由配置，定義不同的 <code>Route</code> 元件，即<strong>定義不同路徑</strong>，繼而可以將 URL 和相應的組件進行映射。</li>
<li><code>Route</code>：定義單個路由，通常接受兩個參數，第一個參數是<strong>路徑</strong>，第二個參數是<strong>要渲染的元件</strong>。</li>
<li><code>Link</code>：用於生成應用程序中的連結。它接受一個 <code>to</code> 屬性，指定要<strong>導航到的 URL</strong>。當用戶點擊這個連結時，React 路由庫將處理 URL 的變化，並渲染相應的組件。</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">BrowserRouter</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&#x27;/&#x27;</span>&gt;</span>首頁<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&#x27;/about&#x27;</span>&gt;</span>關於我們<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&#x27;/contact&#x27;</span>&gt;</span>聯絡我們<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Routes</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&#x27;/&#x27;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">Home</span> /&gt;</span>&#125; /&gt;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&#x27;/about&#x27;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">About</span> /&gt;</span>&#125; /&gt;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&#x27;/contact&#x27;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">Contact</span> /&gt;</span>&#125; /&gt;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&#x27;*&#x27;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">Error404</span> /&gt;</span>&#125; /&gt;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">Routes</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">BrowserRouter</span>&gt;</span></span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<div class="note danger simple"><p>React 原意是想使用 SPA 框架，所以提供了 <code>Link</code> 元件，如果不使用 <code>Link</code> 元件，<strong>使用了 HTML 的 <code>&lt;a&gt;</code> 標記的話</strong>，的確可以導向頁面，不過， <strong><code>&lt;a&gt;</code> 會向伺服器發出請求</strong>，而不是從路由獲取頁面資源，那就有違了 SPA 的原則，亦都導致你的網頁變得不倫不類。</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">- &lt;a href=&#x27;/about&#x27;&gt;Go to About&lt;/a&gt;</span></span><br><span class="line"><span class="addition">+ &lt;Link to=&#x27;/about&#x27;&gt;Go to About&lt;/Link&gt;</span></span><br></pre></td></tr></table></figure></div>

<h3 id="賦予參數傳遞至路由"><a href="#賦予參數傳遞至路由" class="headerlink" title="賦予參數傳遞至路由"></a>賦予參數傳遞至路由</h3><p>當你想編寫不同的動態頁面內容，你可以試試傳遞參數，例如傳遞一個獨一無二的 ID 作為參數，再傳遞至路由，從而根據所獲取的 ID 而顯示相應的資料內容。</p>
<p>假如，現在有一個 <code>CountPage.js</code>，用來根據路由參數的輸入，來「觀察」所傳遞的參數。我們會使用到 <code>useParams</code> 工具把參數傳遞至路由。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useParams &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">CountPage</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> params = <span class="title function_">useParams</span>()</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>Number &#123;params.id&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>然後在 <code>App.js</code> 作一些變更，假如現在我們想傳遞 <code>id</code> 為路由查詢參數，那就在子 <code>Route</code> 的 <code>path</code> 屬性設置為 <code>:id</code>，記住需要加上冒號 <code>:</code>。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">BrowserRouter</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&#x27;/countpage&#x27;</span>&gt;</span>CountPage<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Routes</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&#x27;/countpage&#x27;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">CountPage</span> /&gt;</span>&#125;&gt;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&#x27;:id&#x27;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">CountPage</span> /&gt;</span>&#125; /&gt;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">Routes</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">BrowserRouter</span>&gt;</span></span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>當你在瀏覽器點擊 <code>CountPage</code> 的 <code>Link</code> 導向 CountPage 頁面後，再加上參數，如 <code>/100</code>：<code>localhost:3000/countpage/100</code>，網頁內容會顯示「Number 100」。</p>
<h2 id="可重複使用的元件"><a href="#可重複使用的元件" class="headerlink" title="可重複使用的元件"></a>可重複使用的元件</h2><p>我們可以編寫可重複使用的元件，例如使用一致樣式的元件，但不同文本內容及顏色，可以使用 <code>props</code> 來把屬性設定。</p>
<p>為了方便管理可重用元件，可以建立一個名為 <code>component</code> 資料夾，新建 <code>Title.js</code>，<code>Title()</code> 要傳一個 <code>props</code> 參數。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Title</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">color:</span> <span class="attr">props.color</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            &#125;&#125;&gt;</span>&#123;props.text&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>要使用的時候，就像一個「自訂屬性」的形式定義：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Title</span> text=<span class="string">&quot;首頁&quot;</span> color=<span class="string">&quot;green&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>

<p>這個 <code>text</code> 及 <code>color</code> 屬性均會被傳入到 <code>Title()</code> 元件的 <code>props</code> 參數，就可以利用 <code>props.text</code> 及 <code>props.color</code> 獲取對應的值。</p>
<div class="note info simple"><p>你亦可選擇把 <code>props</code> 參數解構賦值 (destructuring)，那就不需要用 <code>props.</code> 作前綴：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Title</span>(<span class="params">&#123;text, color&#125;</span>) &#123; <span class="comment">// 解構賦值</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">color:</span> <span class="attr">color</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            &#125;&#125;&gt;</span>&#123;text&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p class="p center logo large">以下筆記內容尚未完成整理</p>

<p class="p center logo small">這個部分的內容暫時略寫，待有空再處理。</p>

<details class="folding-tag"><summary> 瀏覽未完成內容 </summary>
              <div class="content">
              <h2 id="元件類別"><a href="#元件類別" class="headerlink" title="元件類別"></a>元件類別</h2><p>類別式元件 (Class-based)：咸豐年代時 React 定義元件的方式，需要另外 <code>extends</code> 一個 <code>React.Component</code>，然後要用 <code>render()</code> 方法把元件渲染出來。現在幾乎一一都取代為使用函式型元件。</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Greeting</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>函式型元件 (Functional)：</p><div class="tabs" id="code_func_comp"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="code_func_comp-1">獨立元件檔案</button><button type="button" class="tab " data-href="code_func_comp-2">簡短簡易</button></ul><div class="tab-contents"><div class="tab-item-content active" id="code_func_comp-1"><p>通常獨立元件檔案 e.g. <code>Greeting.js</code> 就會用這種。</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Greeting</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="code_func_comp-2"><p>如果這些獨立元件是比較簡短的，不需要太多程式碼，可使用 ES6 箭頭函式。</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">Greeting</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><h2 id="使用鉤子-Hooks"><a href="#使用鉤子-Hooks" class="headerlink" title="使用鉤子 (Hooks)"></a>使用鉤子 (Hooks)</h2><p>React 基本的鉤子有 3 個：</p><h3 id="useState"><a href="#useState" class="headerlink" title="useState"></a><code>useState</code></h3><p>…</p><h3 id="useEffect"><a href="#useEffect" class="headerlink" title="useEffect"></a><code>useEffect</code></h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;, []) <span class="comment">// [] 是空的依賴陣列</span></span><br></pre></td></tr></table></figure><ol><li><strong>沒有提供</strong>第二個參數，這個參數是一個依賴陣列 (Dependency Array)，該元件會在網頁<strong>每次渲染時都會觸發</strong></li><li>當依賴陣列是<strong>空陣列</strong>，只會在網頁<strong>第一次渲染時觸發</strong></li><li>當依賴陣列 <strong>存有變量</strong>，會在<strong>網頁第一次渲染</strong>時，而且當<strong>指定變量有改變的時候會觸發</strong></li></ol><h3 id="useContext"><a href="#useContext" class="headerlink" title="useContext"></a><code>useContext</code></h3><p>…</p><hr><h1 id="編寫-TypeScript-使用-React-框架"><a href="#編寫-TypeScript-使用-React-框架" class="headerlink" title="編寫 TypeScript 使用 React 框架"></a>編寫 TypeScript 使用 React 框架</h1><div class="note danger simple"><p>其實可能這部分內容會太長，會考慮以個別形式，另建新筆記文章集中記錄 React 在 JavaScript 遷移至 TypeScript 部分。</p></div><p>如果你不是編寫 JavaScript 或者已經改用了 TypeScript 的話，這裏都簡單記錄了怎樣編寫 TypeScript 使用 React 框架。</p><div class="note info simple"><p>使用 TypeScript 來寫 React 是更勝一籌的，因為 <strong>TypeScript 是有類型檢查功能</strong>，更容易處理類型相關的錯誤，而 JavaScript 是「後知後覺」的。</p></div><p>同樣都會使用 <code>create-react-app</code> 工具創建 React 項目，不過<strong>註明使用 TypeScript 模板</strong> (<code>--template typescript</code>)。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npx create-react-app 項目名稱 --template typescript</span><br><span class="line"><span class="built_in">cd</span> 項目名稱</span><br></pre></td></tr></table></figure><div class="note info simple"><p><strong>TypeScript 模板會自動安裝了以下套件</strong>，如果你想在既有項目加入 TypeScript 就要手動安裝：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save typescript @types/node @types/react @types/react-dom @types/jest</span><br></pre></td></tr></table></figure></div><div class="tabs" id="react_ts"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="react_ts-1">App.tsx</button><button type="button" class="tab " data-href="react_ts-2">MyComponent.tsx</button></ul><div class="tab-contents"><div class="tab-item-content active" id="react_ts-1"><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">MyComponent</span> <span class="keyword">from</span> <span class="string">&#x27;./MyComponent&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span>: <span class="title class_">React</span>.<span class="property">FC</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, TypeScript with React!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">MyComponent</span> <span class="attr">name</span>=<span class="string">&quot;John&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="react_ts-2"><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">MyComponentProps</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MyComponent</span>: <span class="title class_">React</span>.<span class="property">FC</span>&lt;<span class="title class_">MyComponentProps</span>&gt; = <span class="function">(<span class="params">&#123; name &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>Hello, &#123;name&#125;!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">MyComponent</span>;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div>
              </div>
            </details></article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.ibb.co/zRvn96K/personal-icon.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.ibb.co/zRvn96K/personal-icon.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">BlueWhaleYT</div><div class="post-copyright__author_desc">絢麗薔薇之紗海</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://bluewhaleyt.github.io/post/react-dev-spa-notes.html">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://bluewhaleyt.github.io/post/react-dev-spa-notes.html')">【React】JSX 語言 | SPA 單頁應用 | React 前端網頁開發學習筆記</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://bluewhaleyt.github.io/post/react-dev-spa-notes.html"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本部落格所有文章除特別聲明外，均採用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 許可協議。轉載請註明來自 <a href="https://bluewhaleyt.github.io" target="_blank">🐳 BlueWhaleYT</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/Node-js/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Node.js<span class="tagsPageCount">4</span></a><a class="post-meta__box__tags" href="/tags/JSX/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>JSX<span class="tagsPageCount">1</span></a><a class="post-meta__box__tags" href="/tags/JavaScript/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>JavaScript<span class="tagsPageCount">3</span></a><a class="post-meta__box__tags" href="/tags/TypeScript/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>TypeScript<span class="tagsPageCount">1</span></a><a class="post-meta__box__tags" href="/tags/HTML/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>HTML<span class="tagsPageCount">3</span></a><a class="post-meta__box__tags" href="/tags/CSS/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>CSS<span class="tagsPageCount">2</span></a><a class="post-meta__box__tags" href="/tags/Bash/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Bash<span class="tagsPageCount">5</span></a></div></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/post/web-dev-express-restful-api-notes.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/oPLVYuN.png" onerror="onerror=null;src='https://i.imgur.com/X9zVUFU.png'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Node.js | Express | JSON 數據庫 | 構建 RESTful API 筆記</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>相關推薦</span></div><div class="relatedPosts-list"><div><a href="/post/web-dev-nodejs-express-notes.html" title="Node.js | Express | 伺服器及後端建置 | 動態網頁編寫筆記"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/7Ys7B1P.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023 年 10 月 03 日</div><div class="title">Node.js | Express | 伺服器及後端建置 | 動態網頁編寫筆記</div></div></a></div><div><a href="/post/web-dev-express-restful-api-notes.html" title="Node.js | Express | JSON 數據庫 | 構建 RESTful API 筆記"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/oPLVYuN.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023 年 10 月 10 日</div><div class="title">Node.js | Express | JSON 數據庫 | 構建 RESTful API 筆記</div></div></a></div><div><a href="/post/web-dev-build-and-host-website-notes.html" title="靜態網頁 | 動態網頁 | 輕鬆寄存免費且有 HTTPS 安全認證網站的多種方案集錄筆記"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/lPfmDVo.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2020 年 05 月 22 日</div><div class="title">靜態網頁 | 動態網頁 | 輕鬆寄存免費且有 HTTPS 安全認證網站的多種方案集錄筆記</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 評論</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)" style="display: none">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.ibb.co/zRvn96K/personal-icon.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__description">歡迎來到「BlueWhaleYT 個人網誌」。</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">BlueWhaleYT</h1><div class="author-info__desc">絢麗薔薇之紗海</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/BlueWhaleYT" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content"> 設備: MacBook Pro Apple M2 <br> 常用軟件: VSCode / Fleet / Android Studio </div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目錄</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B5%8C%E5%85%A5-React-%E5%85%83%E4%BB%B6%E5%88%B0%E6%97%A2%E6%9C%89-HTML-%E6%AA%94%E6%A1%88"><span class="toc-number">1.</span> <span class="toc-text">嵌入 React 元件到既有 HTML 檔案</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B7%A8%E5%AF%AB-JSX-%E8%AA%9E%E6%B3%95%E8%87%B3-HTML-%E7%B6%B2%E9%A0%81-lt-script-gt-%E6%A8%99%E8%A8%98"><span class="toc-number">1.1.</span> <span class="toc-text">編寫 JSX 語法至 HTML 網頁 &lt;script&gt; 標記</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B7%A8%E5%AF%AB-JSX-%E8%AA%9E%E6%B3%95%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E8%A6%81%E9%BB%9E"><span class="toc-number">2.</span> <span class="toc-text">編寫 JSX 語法要注意的要點</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-React-%E7%92%B0%E5%A2%83%E5%8F%8A%E9%A0%85%E7%9B%AE"><span class="toc-number">3.</span> <span class="toc-text">配置 React 環境及項目</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B7%B1%E5%85%A5%E7%B7%A8%E5%AF%AB-JSX-%E5%8F%8A%E4%BD%BF%E7%94%A8-React-%E6%A1%86%E6%9E%B6"><span class="toc-number">4.</span> <span class="toc-text">深入編寫 JSX 及使用 React 框架</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%AF%E5%85%A5-CSS-%E6%A8%A3%E5%BC%8F"><span class="toc-number">4.1.</span> <span class="toc-text">匯入 CSS 樣式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%B7%AF%E7%94%B1%E5%B0%8E%E5%90%91%E4%B8%8D%E5%90%8C%E9%A0%81%E9%9D%A2"><span class="toc-number">4.2.</span> <span class="toc-text">使用路由導向不同頁面</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B3%A6%E4%BA%88%E5%8F%83%E6%95%B8%E5%82%B3%E9%81%9E%E8%87%B3%E8%B7%AF%E7%94%B1"><span class="toc-number">4.2.1.</span> <span class="toc-text">賦予參數傳遞至路由</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E9%87%8D%E8%A4%87%E4%BD%BF%E7%94%A8%E7%9A%84%E5%85%83%E4%BB%B6"><span class="toc-number">4.3.</span> <span class="toc-text">可重複使用的元件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E4%BB%B6%E9%A1%9E%E5%88%A5"><span class="toc-number">4.4.</span> <span class="toc-text">元件類別</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%89%A4%E5%AD%90-Hooks"><span class="toc-number">4.5.</span> <span class="toc-text">使用鉤子 (Hooks)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#useState"><span class="toc-number">4.5.1.</span> <span class="toc-text">useState</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#useEffect"><span class="toc-number">4.5.2.</span> <span class="toc-text">useEffect</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#useContext"><span class="toc-number">4.5.3.</span> <span class="toc-text">useContext</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B7%A8%E5%AF%AB-TypeScript-%E4%BD%BF%E7%94%A8-React-%E6%A1%86%E6%9E%B6"><span class="toc-number">5.</span> <span class="toc-text">編寫 TypeScript 使用 React 框架</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/react-dev-spa-notes.html" title="【React】JSX 語言 | SPA 單頁應用 | React 前端網頁開發學習筆記"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/CBrFp2g.png" onerror="this.onerror=null;this.src='https://i.imgur.com/X9zVUFU.png'" alt="【React】JSX 語言 | SPA 單頁應用 | React 前端網頁開發學習筆記"/></a><div class="content"><a class="title" href="/post/react-dev-spa-notes.html" title="【React】JSX 語言 | SPA 單頁應用 | React 前端網頁開發學習筆記">【React】JSX 語言 | SPA 單頁應用 | React 前端網頁開發學習筆記</a><time datetime="2024-01-08T11:15:19.000Z" title="發表於 2024 年 01 月 08 日 19 時 15 分 19 秒">2024 年 01 月 08 日</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/web-dev-express-restful-api-notes.html" title="Node.js | Express | JSON 數據庫 | 構建 RESTful API 筆記"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/oPLVYuN.png" onerror="this.onerror=null;this.src='https://i.imgur.com/X9zVUFU.png'" alt="Node.js | Express | JSON 數據庫 | 構建 RESTful API 筆記"/></a><div class="content"><a class="title" href="/post/web-dev-express-restful-api-notes.html" title="Node.js | Express | JSON 數據庫 | 構建 RESTful API 筆記">Node.js | Express | JSON 數據庫 | 構建 RESTful API 筆記</a><time datetime="2023-10-10T14:00:00.000Z" title="發表於 2023 年 10 月 10 日 22 時 00 分 00 秒">2023 年 10 月 10 日</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/web-dev-nodejs-express-notes.html" title="Node.js | Express | 伺服器及後端建置 | 動態網頁編寫筆記"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/7Ys7B1P.png" onerror="this.onerror=null;this.src='https://i.imgur.com/X9zVUFU.png'" alt="Node.js | Express | 伺服器及後端建置 | 動態網頁編寫筆記"/></a><div class="content"><a class="title" href="/post/web-dev-nodejs-express-notes.html" title="Node.js | Express | 伺服器及後端建置 | 動態網頁編寫筆記">Node.js | Express | 伺服器及後端建置 | 動態網頁編寫筆記</a><time datetime="2023-10-03T14:00:00.000Z" title="發表於 2023 年 10 月 03 日 22 時 00 分 00 秒">2023 年 10 月 03 日</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/web-dev-build-and-host-website-notes.html" title="靜態網頁 | 動態網頁 | 輕鬆寄存免費且有 HTTPS 安全認證網站的多種方案集錄筆記"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/lPfmDVo.png" onerror="this.onerror=null;this.src='https://i.imgur.com/X9zVUFU.png'" alt="靜態網頁 | 動態網頁 | 輕鬆寄存免費且有 HTTPS 安全認證網站的多種方案集錄筆記"/></a><div class="content"><a class="title" href="/post/web-dev-build-and-host-website-notes.html" title="靜態網頁 | 動態網頁 | 輕鬆寄存免費且有 HTTPS 安全認證網站的多種方案集錄筆記">靜態網頁 | 動態網頁 | 輕鬆寄存免費且有 HTTPS 安全認證網站的多種方案集錄筆記</a><time datetime="2020-05-22T07:16:50.000Z" title="發表於 2020 年 05 月 22 日 15 時 16 分 50 秒">2020 年 05 月 22 日</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2024 By <a class="footer-bar-link" href="/" title="BlueWhaleYT" target="_blank">BlueWhaleYT</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" href="/null"></a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">4</div></a><a href="/tags/" title="tag"><div class="headline">標籤</div><div class="length-num">19</div></a><a href="/categories/" title="category"><div class="headline">分類</div><div class="length-num">10</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="顯示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>顯示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">item1</div><div class="back-menu-list"><a class="back-menu-item" href="/null" title="item1name"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="/img/favicon.ico" alt="item1name"/><span class="back-menu-item-text">item1name</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">item2</div><div class="back-menu-list"><a class="back-menu-item" href="/null" title="item2name"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="item2name"/><span class="back-menu-item-text">item2name</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 彙整頁</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分類頁</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 標籤頁</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 工具</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="https://bluewhaleyt.github.io/monaco-text-compare"><i class="anzhiyufont anzhiyu-icon-file-lines faa-tada" style="font-size: 0.9em;"></i><span> 文本比較編輯器</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Android/" style="font-size: 0.88rem; font-weight: 500; color: var(--anzhiyu-lighttext)">Android<sup>11</sup></a><a href="/tags/Bash/" style="font-size: 0.88rem;">Bash<sup>5</sup></a><a href="/tags/C/" style="font-size: 0.88rem;">C++<sup>1</sup></a><a href="/tags/CSS/" style="font-size: 0.88rem;">CSS<sup>2</sup></a><a href="/tags/EJS/" style="font-size: 0.88rem;">EJS<sup>1</sup></a><a href="/tags/Express/" style="font-size: 0.88rem;">Express<sup>2</sup></a><a href="/tags/HTML/" style="font-size: 0.88rem;">HTML<sup>3</sup></a><a href="/tags/JSON/" style="font-size: 0.88rem;">JSON<sup>1</sup></a><a href="/tags/JSX/" style="font-size: 0.88rem;">JSX<sup>1</sup></a><a href="/tags/Java/" style="font-size: 0.88rem;">Java<sup>4</sup></a><a href="/tags/JavaScript/" style="font-size: 0.88rem;">JavaScript<sup>3</sup></a><a href="/tags/Kotlin/" style="font-size: 0.88rem; font-weight: 500; color: var(--anzhiyu-lighttext)">Kotlin<sup>9</sup></a><a href="/tags/Lua/" style="font-size: 0.88rem;">Lua<sup>1</sup></a><a href="/tags/Markdown/" style="font-size: 0.88rem;">Markdown<sup>1</sup></a><a href="/tags/NDK/" style="font-size: 0.88rem;">NDK<sup>1</sup></a><a href="/tags/Node-js/" style="font-size: 0.88rem; font-weight: 500; color: var(--anzhiyu-lighttext)">Node.js<sup>4</sup></a><a href="/tags/Roblox/" style="font-size: 0.88rem;">Roblox<sup>1</sup></a><a href="/tags/TypeScript/" style="font-size: 0.88rem;">TypeScript<sup>1</sup></a><a href="/tags/YAML/" style="font-size: 0.88rem;">YAML<sup>2</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="閱讀模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="簡繁轉換">繁</button><button id="darkmode" type="button" title="淺色和深色模式轉換"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="設定"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目錄"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直達評論"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="回到頂部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜尋</span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.cbd.int/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script async src="/anzhiyu/random.js"></script><script src="https://cdn.cbd.int/algoliasearch@4.18.0/dist/algoliasearch-lite.umd.js"></script><script src="https://cdn.cbd.int/instantsearch.js@4.60.0/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script><div class="js-pjax"><script>(() => {
  const initWaline = () => {
    const waline = Waline.init(Object.assign({
      el: '#waline-wrap',
      serverURL: 'https://personal-blog-waline.vercel.app',
      pageview: false,
      dark: 'html[data-theme="dark"]',
      path: window.location.pathname,
      comment: true,
    }, null))
  }

  const loadWaline = async () => {
    if (typeof Waline === 'object') initWaline()
    else {
      await getCSS('https://cdn.cbd.int/@waline/client@2.15.5/dist/waline.css')
      await getScript('https://cdn.cbd.int/@waline/client@2.15.5/dist/waline.js')
      initWaline()
    }
  }

  if ('Waline' === 'Waline' || !false) {
    if (false) anzhiyu.loadComment(document.getElementById('waline-wrap'),loadWaline)
    else setTimeout(loadWaline, 0)
  } else {
    window.loadOtherComment = loadWaline
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener('load', () => {
  const changeContent = content => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[圖片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[連結]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[程式碼]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '沒有評論'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = async () => {
    try {
      const res = await fetch('https://personal-blog-waline.vercel.app/api/comment?type=recent&count=6', { method: 'GET' })
      const result = await res.json()
      const walineArray = result.data.map(e => {
        return {
          'content': changeContent(e.comment),
          'avatar': e.avatar,
          'nick': e.nick,
          'url': e.url + '#' + e.objectId,
          'date': e.time || e.insertedAt
        }
      })
      saveToLocal.set('waline-newest-comments', JSON.stringify(walineArray), 10/(60*24))
      generateHtml(walineArray)
    } catch (err) {
      console.error(err)
      const $dom = document.querySelector('#card-newest-comments .aside-list')
      $dom.textContent= "無法獲取評論，請確認相關配置是否正確"
    }
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('waline-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script src="/js/custom.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div><!-- hexo injector body_end start --><script src="https://unpkg.com/kotlin-playground@1" data-server data-version></script>
<script>

if(typeof ktpgOptions !== 'undefined'){
    KotlinPlayground('.kotlin-code',ktpgOptions)
}else{
    KotlinPlayground('.kotlin-code')
}
window.addEventListener('pjax:complete', event => {
    if(typeof ktpgOptions !== 'undefined'){
        KotlinPlayground('.kotlin-code',ktpgOptions)
    }else{
        KotlinPlayground('.kotlin-code')
    }
});
</script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --></body></html>