<!DOCTYPE html><html lang="zh-TW" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Kotlin Compose 跨平台項目開發筆記 | BlueWhaleYT 個人網誌</title><meta name="keywords" content="Android,Gradle,Kotlin,Swift"><meta name="author" content="BlueWhaleYT"><meta name="copyright" content="BlueWhaleYT"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="Kotlin Compose 跨平台項目開發筆記"><meta name="application-name" content="Kotlin Compose 跨平台項目開發筆記"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="Kotlin Compose 跨平台項目開發筆記"><meta property="og:url" content="https://bluewhaleyt.github.io/post/jetpack-compose-dev-kotlin-multiplatform-notes.html"><meta property="og:site_name" content="BlueWhaleYT 個人網誌"><meta property="og:description" content="Jetpack Compose 除了取代了傳統的 XML 建構方式外，開發的程序已經不再只針對 Android 的實現，而是可以進行跨平台的操作，應用程式可以供不同的操作系統如 Android、iOS 設備及桌面版使用。 桌上版泛指能在 Linux、Windows 及 macOS 系統上運作。"><meta property="og:locale" content="zh-TW"><meta property="og:image" content="https://i.imgur.com/GUsLcS8.png"><meta property="article:author" content="BlueWhaleYT"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://i.imgur.com/GUsLcS8.png"><meta name="description" content="Jetpack Compose 除了取代了傳統的 XML 建構方式外，開發的程序已經不再只針對 Android 的實現，而是可以進行跨平台的操作，應用程式可以供不同的操作系統如 Android、iOS 設備及桌面版使用。 桌上版泛指能在 Linux、Windows 及 macOS 系統上運作。"><link rel="shortcut icon" href="https://i.ibb.co/zRvn96K/20210718-233824.jpg"><link rel="canonical" href="https://bluewhaleyt.github.io/post/jetpack-compose-dev-kotlin-multiplatform-notes"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: undefined,
  diytitle: undefined,
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: false,
  mainTone: {"mode":"api","api":"https://img2color-go.vercel.app/api?img=","cover_change":true},
  authorStatus: {"skills":null},
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查詢的內容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"此文章已經發佈了","messageNext":"天了，文章內容可能已經過時，敬請留意。"},
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":150},
  copy: {
    success: '複製成功',
    error: '複製錯誤',
    noSupport: '瀏覽器不支援'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '剛剛',
    min: '分鐘前',
    hour: '小時前',
    day: '天前',
    month: '個月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: BlueWhaleYT","link":"連結: ","source":"來源: BlueWhaleYT 個人網誌","info":"著作權歸作者所有。商業轉載請聯絡作者獲得授權，非商業轉載請註明出處。","copySuccess":"複製成功，複製和轉載請標注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切換為繁體","cht_to_chs":"你已切換為簡體","day_to_night":"你已切換為深色模式","night_to_day":"你已切換為淺色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"bottom-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'BlueWhaleYT 個人網誌',
  title: 'Kotlin Compose 跨平台項目開發筆記',
  postAI: '',
  pageFillDescription: '官方教學, 建置環境, 檢查環境配置, 初始配置, 新建一個 KMM （跨平台） 項目, 配置 Gradle 設定, 建置文件配置, 根目錄, shared 模塊, androidApp 模塊, 配置設定檔, iOS 程式支援配置除了取代了傳統的建構方式外開發的程序已經不再只針對的實現而是可以進行跨平台的操作應用程式可以供不同的操作系統如設備及桌面版使用桌上版泛指能在及系統上運作官方教學始終這門是一項對開發的創新理念在固然可以實現跨平台但是要實際由零開始建置環境並非一件容易的事情官方亦有提供一些文案教導大家如何建置環境進而實現跨平台引用站外地址模板立即開始構建跨平台項目建置環境首先因為跨平台涉及到設備的系統所以你必需要一台的電腦根據官方所列出的要求你需要一台較新版本的電腦舊版本可能不相容應用程式提提你這應用程式總共請預備足夠的儲存空間在下載依賴庫管理工具檢查環境配置在開始前可以用工具來檢查所配置的環境是正確的透過使用安裝在終端機執行如果配置的環境是正確的會得出以下的結果否則解決錯誤在執行時可能會在最後的階段報錯雖然錯誤訊息提議你按照做法加入以下的代碼但是還是不行就納了個悶了要是這樣先狠狠的刪掉若使用安裝若使用安裝再用重新安裝並指定安裝版本為初始配置完成好環境配置後現在就打開進入初始配置跨平台的細項新建一個跨平台項目打開選擇選擇依賴管理項配置設定在新增以下設定建置文件配置根目錄打開然後在區塊使用以下代碼取代原有代碼模塊在的區塊新增然後找在下方新增在區塊新增以下代碼模塊在的區塊新增配置設定檔打開然後找區塊和的區塊都要新增然後在區塊下方新增完成會這樣最後就程式支援配置在模塊裏的新增打開在新增檔案',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023 年 10 月 08 日 13 時 18 分 30 秒',
  postMainColor: '#546de5',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/codethemes/code-light.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/codethemes/code-dark.css" media="defer" onload="this.media='all'"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://i.ibb.co/zRvn96K/20210718-233824.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">工具</div><div class="back-menu-list"><a class="back-menu-item" href="/gpt-prompt-template" title="GPT 提詞模板"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="GPT 提詞模板"/><span class="back-menu-item-text">GPT 提詞模板</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">工具</div><div class="back-menu-list"><a class="back-menu-item" href="/gpt-prompt-template" title="GPT 提詞模板"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="GPT 提詞模板"/><span class="back-menu-item-text">GPT 提詞模板</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">BlueWhaleYT 個人網誌</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 「絲襪」地帶</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/gpt-prompt-template"><span> GPT 提詞模板</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜尋</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Android/" style="font-size: 1.05rem; font-weight: 500; color: var(--anzhiyu-lighttext)">Android<sup>7</sup></a><a href="/tags/CSS/" style="font-size: 1.05rem;">CSS<sup>1</sup></a><a href="/tags/GoogleScript/" style="font-size: 1.05rem;">GoogleScript<sup>1</sup></a><a href="/tags/Gradle/" style="font-size: 1.05rem;">Gradle<sup>4</sup></a><a href="/tags/HTML/" style="font-size: 1.05rem;">HTML<sup>1</sup></a><a href="/tags/JSON/" style="font-size: 1.05rem;">JSON<sup>2</sup></a><a href="/tags/Java/" style="font-size: 1.05rem;">Java<sup>4</sup></a><a href="/tags/JavaScript/" style="font-size: 1.05rem;">JavaScript<sup>2</sup></a><a href="/tags/Kotlin/" style="font-size: 1.05rem;">Kotlin<sup>3</sup></a><a href="/tags/Markdown/" style="font-size: 1.05rem;">Markdown<sup>1</sup></a><a href="/tags/Regex/" style="font-size: 1.05rem;">Regex<sup>1</sup></a><a href="/tags/Swift/" style="font-size: 1.05rem;">Swift<sup>1</sup></a><a href="/tags/XML/" style="font-size: 1.05rem;">XML<sup>4</sup></a><a href="/tags/YAML/" style="font-size: 1.05rem;">YAML<sup>2</sup></a><a href="/tags/%E7%B5%82%E7%AB%AF%E6%A9%9F%E6%8C%87%E4%BB%A4/" style="font-size: 1.05rem;">終端機指令<sup>2</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>歸檔</span><a class="card-more-btn" href="/archives/" title="檢視更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">2023 年 10 月</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">2023 年 07 月</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">2023 年 06 月</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">2023 年 05 月</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">2023 年 04 月</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">2023 年 03 月</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">2023 年 01 月</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">2022 年 12 月</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%A8%8B%E5%BC%8F%E7%B7%A8%E5%AF%AB/" itemprop="url">程式編寫</a><i class="anzhiyufont anzhiyu-icon-angle-right post-meta-separator"></i><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/Android-%E9%96%8B%E7%99%BC/" itemprop="url">Android 開發</a><i class="anzhiyufont anzhiyu-icon-angle-right post-meta-separator"></i><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/Jetpack-Compose/" itemprop="url">Jetpack Compose</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/Android/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Android</span></a><a class="article-meta__tags" href="/tags/Gradle/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Gradle</span></a><a class="article-meta__tags" href="/tags/Kotlin/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Kotlin</span></a><a class="article-meta__tags" href="/tags/Swift/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Swift</span></a></span></div></div><h1 class="post-title" itemprop="name headline">Kotlin Compose 跨平台項目開發筆記</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">發表於</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2023-06-26T12:31:48.000Z" title="發表於 2023 年 06 月 26 日 20 時 31 分 48 秒">2023 年 06 月 26 日</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新於</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2023-10-08T05:18:30.516Z" title="更新於 2023 年 10 月 08 日 13 時 18 分 30 秒">2023 年 10 月 08 日</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字數總計:</span><span class="word-count" title="文章字数">1.3k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">閱讀時長:</span><span>5分鐘</span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://i.imgur.com/GUsLcS8.png"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://bluewhaleyt.github.io/post/jetpack-compose-dev-kotlin-multiplatform-notes.html"><header><a class="post-meta-categories" href="/categories/%E7%A8%8B%E5%BC%8F%E7%B7%A8%E5%AF%AB/" itemprop="url">程式編寫</a><a class="post-meta-categories" href="/categories/Android-%E9%96%8B%E7%99%BC/" itemprop="url">Android 開發</a><a class="post-meta-categories" href="/categories/Jetpack-Compose/" itemprop="url">Jetpack Compose</a><a href="/tags/Android/" tabindex="-1" itemprop="url">Android</a><a href="/tags/Gradle/" tabindex="-1" itemprop="url">Gradle</a><a href="/tags/Kotlin/" tabindex="-1" itemprop="url">Kotlin</a><a href="/tags/Swift/" tabindex="-1" itemprop="url">Swift</a><h1 id="CrawlerTitle" itemprop="name headline">Kotlin Compose 跨平台項目開發筆記</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">BlueWhaleYT</span><time itemprop="dateCreated datePublished" datetime="2023-06-26T12:31:48.000Z" title="發表於 2023 年 06 月 26 日 20 時 31 分 48 秒">2023 年 06 月 26 日</time><time itemprop="dateCreated datePublished" datetime="2023-10-08T05:18:30.516Z" title="更新於 2023 年 10 月 08 日 13 時 18 分 30 秒">2023 年 10 月 08 日</time></header><p>Jetpack Compose 除了<strong>取代了傳統的 XML 建構方式</strong>外，開發的程序已經<strong>不再只針對 Android</strong> 的實現，而是可以進行跨平台的操作，應用程式可以供不同的操作系統如 Android、<strong>iOS 設備及桌面版</strong>使用。</p>
<div class="note info simple"><p>桌上版泛指能在 Linux、Windows 及 macOS 系統上運作。</p>
</div>

<hr>
<h1 id="官方教學"><a href="#官方教學" class="headerlink" title="官方教學"></a>官方教學</h1><p>始終這門是一項對 Android 開發的創新理念，在 Jetpack Compose 固然可以實現跨平台，但是要實際<strong>由零開始建置環境，並非一件容易的事情</strong>。官方亦有提供一些文案，教導大家如何建置環境，進而實現跨平台。</p>
<div calss="anzhiyu-tag-link"><a class="tag-Link" target="_blank" href="https://github.com/JetBrains/compose-multiplatform-template#setting-up-your-development-environment">
    <div class="tag-link-tips">引用站外地址</div>
    <div class="tag-link-bottom">
        <div class="tag-link-left" style>
          <i class="anzhiyufont anzhiyu-icon-link" style></i>
        </div>
        <div class="tag-link-right">
            <div class="tag-link-title">Kotlin Multiplatform 模板</div>
            <div class="tag-link-sitename"> 立即開始構建跨平台項目</div>
        </div>
        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>
    </div>
    </a></div>

<hr>
<h1 id="建置環境"><a href="#建置環境" class="headerlink" title="建置環境"></a>建置環境</h1><p>首先，因為跨平台，涉及到 iOS 設備的系統，所以你<strong>必需要一台 macOS 的電腦</strong>，根據官方所列出的要求，你需要：<br>一台<strong>較新版本的 macOS 電腦</strong>（舊版本可能不相容）</p>
<ol>
<li>Xcode 應用程式（提提你，這應用程式總共 7.6 GB，請預備足夠的儲存空間），在 App Store 下載</li>
<li>Android Studio</li>
<li>Kotlin Multiplatform Mobile Extension</li>
<li>CocoaPods 依賴庫管理工具</li>
</ol>
<h2 id="檢查環境配置"><a href="#檢查環境配置" class="headerlink" title="檢查環境配置"></a>檢查環境配置</h2><p>在開始前，可以用 KDoctor 工具來檢查所配置的環境是正確的。</p>
<ol>
<li><p>透過使用 Homebrew 安裝 KDoctor</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">brew install kdoctor</code></pre></li>
<li><p>在終端機執行 KDoctor</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">kdoctor</code></pre></li>
<li><p>如果配置的環境是正確的，會得出以下的結果：</p>
 <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Environment diagnose (to see all details, use -v option):
[✓] Operation System
[✓] Java
[✓] Android Studio
[✓] Xcode
[✓] Cocoapods

Conclusion:
✓ Your system is ready for Kotlin Multiplatform Mobile development!</code></pre>

<p> 否則：</p>
 <details class="folding-tag"><summary> 解決 CocoaPods requires your terminal to be using UTF-8 encoding 錯誤 </summary>
              <div class="content">
              <p>在執行 kdoctor 時，可能會在最後的階段 Cocoapods 報錯：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Environment diagnose (to see all details, use -v option):
[✓] Operation System
[✓] Java
[✓] Android Studio
[✓] Xcode
[✖] Cocoapods
✖ System ruby is currently used
    CocoaPods is not compatible with system ruby installation on Apple M1 computers.
    Please install ruby via Homebrew, rvm, rbenv or other tool and make it default
    Detailed information: https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;64901180&#x2F;how-to-run-cocoapods-on-apple-silicon-m1&#x2F;66556339#66556339
✖ CocoaPods requires your terminal to be using UTF-8 encoding.
    Consider adding the following to ~&#x2F;.zprofile
    export LC_ALL&#x3D;en_US.UTF-8</code></pre><p>雖然錯誤訊息提議你按照做法，加入以下的代碼：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">✖ CocoaPods requires your terminal to be using UTF-8 encoding.
    Consider adding the following to ~&#x2F;.profile:
    export LANG&#x3D;en_US.UTF-8</code></pre><p>但是還是不行，就納了個悶了。要是這樣，</p><ol><li>先狠狠的刪掉 Cocapods：</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># 若使用 Homebrew 安裝
brew uninstall cocoapods

# 若使用 gem 安裝
sudo gem uninstall cocoapods</code></pre><ol start="2"><li>再用 gem 重新安裝，並指定安裝版本為 <code>1.10.2</code> 。</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo gem install cocoapods -v 1.10.2 -n &#x2F;usr&#x2F;local&#x2F;bin</code></pre>
              </div>
            </details></li>
</ol>
<hr>
<h1 id="初始配置"><a href="#初始配置" class="headerlink" title="初始配置"></a>初始配置</h1><p>完成好環境配置後，現在就打開 Android Studio 進入初始配置跨平台的細項。</p>
<h2 id="新建一個-KMM-（跨平台）-項目"><a href="#新建一個-KMM-（跨平台）-項目" class="headerlink" title="新建一個 KMM （跨平台） 項目"></a>新建一個 KMM （跨平台） 項目</h2><p>打開 Android Studio，選擇 Compose Multiplatform Template，選擇 Regular 依賴管理項。</p>
<h2 id="配置-Gradle-設定"><a href="#配置-Gradle-設定" class="headerlink" title="配置 Gradle 設定"></a>配置 Gradle 設定</h2><p>在 <code>gradle.properties</code> 新增以下設定：</p>
<pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">kotlin.version&#x3D;1.8.20
agp.version&#x3D;8.0.1
compose.version&#x3D;1.4.0

org.jetbrains.compose.experimental.uikit.enabled&#x3D;true
kotlin.native.cacheKind&#x3D;none</code></pre>

<h2 id="建置文件配置"><a href="#建置文件配置" class="headerlink" title="建置文件配置"></a>建置文件配置</h2><h3 id="根目錄"><a href="#根目錄" class="headerlink" title="根目錄"></a>根目錄</h3><p>打開 <code>build.gradle.kts</code> 然後在 <code>plugins</code> 區塊，使用以下代碼取代原有代碼：</p>
<pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">kotlin(&quot;multiplatform&quot;).apply(false)
id(&quot;com.android.application&quot;).apply(false)
id(&quot;com.android.library&quot;).apply(false)
id(&quot;org.jetbrains.compose&quot;).apply(false)</code></pre>

<h3 id="shared-模塊"><a href="#shared-模塊" class="headerlink" title="shared 模塊"></a><code>shared</code> 模塊</h3><ol>
<li><p>在 <code>build.gradle.kts</code> 的 <code>plugins</code> 區塊新增：</p>
 <pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">id(&quot;org.jetbrains.compose&quot;)</code></pre>
</li>
<li><p>然後找 <code>baseName = &quot;shared&quot;</code>，在下方新增：</p>
 <pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">isStatic &#x3D; true</code></pre>
</li>
<li><p>在 <code>sourceSets</code> 區塊新增以下代碼:</p>
 <pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">val commonMain by getting &#123;
    dependencies &#123;
        implementation(compose.runtime)
        implementation(compose.foundation)
        implementation(compose.material)
        @OptIn(org.jetbrains.compose.ExperimentalComposeLibrary::class)
        implementation(compose.components.resources)
    &#125;
&#125;</code></pre></li>
</ol>
<h3 id="androidApp-模塊"><a href="#androidApp-模塊" class="headerlink" title="androidApp 模塊"></a><code>androidApp</code> 模塊</h3><p>在 <code>build.gradle.kts</code> 的 <code>plugins</code> 區塊新增：</p>
<pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">id(&quot;org.jetbrains.compose&quot;)</code></pre>

<h2 id="配置設定檔"><a href="#配置設定檔" class="headerlink" title="配置設定檔"></a>配置設定檔</h2><ol>
<li><p>打開 <code>settings.gradle.kts</code>，然後找 <code>repositories</code> 區塊，<code>pluginManagement</code> 和 <code>dependencyResolutionManagement</code> 的 <code>repositories</code> 區塊都要新增：</p>
 <pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">maven(&quot;https:&#x2F;&#x2F;maven.pkg.jetbrains.space&#x2F;public&#x2F;p&#x2F;compose&#x2F;dev&quot;)</code></pre>
</li>
<li><p>然後在 <code>pluginManagement</code> 區塊下方新增：</p>
 <pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">plugins &#123;
    val kotlinVersion &#x3D; extra[&quot;kotlin.version&quot;] as String
    val agpVersion &#x3D; extra[&quot;agp.version&quot;] as String
    val composeVersion &#x3D; extra[&quot;compose.version&quot;] as String

    kotlin(&quot;jvm&quot;).version(kotlinVersion)
    kotlin(&quot;multiplatform&quot;).version(kotlinVersion)
    kotlin(&quot;android&quot;).version(kotlinVersion)

    id(&quot;com.android.application&quot;).version(agpVersion)
    id(&quot;com.android.library&quot;).version(agpVersion)

    id(&quot;org.jetbrains.compose&quot;).version(composeVersion)
&#125;</code></pre>

<p> 完成會這樣：</p>
 <pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">pluginManagement &#123;
    repositories &#123;
        google()
        gradlePluginPortal()
        mavenCentral()
        maven(&quot;https:&#x2F;&#x2F;maven.pkg.jetbrains.space&#x2F;public&#x2F;p&#x2F;compose&#x2F;dev&quot;)
    &#125;

    plugins &#123;
        val kotlinVersion &#x3D; extra[&quot;kotlin.version&quot;] as String
        val agpVersion &#x3D; extra[&quot;agp.version&quot;] as String
        val composeVersion &#x3D; extra[&quot;compose.version&quot;] as String

        kotlin(&quot;jvm&quot;).version(kotlinVersion)
        kotlin(&quot;multiplatform&quot;).version(kotlinVersion)
        kotlin(&quot;android&quot;).version(kotlinVersion)

        id(&quot;com.android.application&quot;).version(agpVersion)
        id(&quot;com.android.library&quot;).version(agpVersion)

        id(&quot;org.jetbrains.compose&quot;).version(composeVersion)
    &#125;
&#125;

dependencyResolutionManagement &#123;
    repositories &#123;
        google()
        mavenCentral()
        maven(&quot;https:&#x2F;&#x2F;maven.pkg.jetbrains.space&#x2F;public&#x2F;p&#x2F;compose&#x2F;dev&quot;)
    &#125;
&#125;

rootProject.name &#x3D; &quot;VSCodeM&quot;
include(&quot;:androidApp&quot;)
include(&quot;:shared&quot;)</code></pre>
</li>
<li><p>最後就 Sync Project。</p>
</li>
</ol>
<h2 id="iOS-程式支援配置"><a href="#iOS-程式支援配置" class="headerlink" title="iOS 程式支援配置"></a>iOS 程式支援配置</h2><ol>
<li>在 <code>shared</code> 模塊裏的 <code>iosMain</code> 新增 <code>App.kt</code><pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">fun MainController() &#x3D; ComposeUIController &#123; App &#125;</code></pre></li>
<li>打開 Xcode，在 <code>iosApp</code> 新增 Swift 檔案 <code>ComposeView.swift</code> <pre class="line-numbers language-swift" data-language="swift"><div class="caption"><span>ComposeView.swift</span></div><code class="language-swift">import Foundation
import SwiftUI
import shared

struct ComposeView: UIViewControllerRepresentable &#123;
    func updateUIViewController(_ uiViewController: UIViewControllerType, context: Context) &#123;&#125;
    
    func makeUIViewController(context: Context) -&gt; some UIViewController &#123;
        AppKt.MainViewController()
    &#125;
&#125;</code></pre>
 <pre class="line-numbers language-swift" data-language="swift"><div class="caption"><span>ContentView.swift</span></div><code class="language-swift">struct ContentView: View &#123;
    var body: some View &#123;
        ComposeView()
    &#125;
&#125;</code></pre></li>
</ol>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://i.ibb.co/zRvn96K/20210718-233824.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://i.ibb.co/zRvn96K/20210718-233824.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">BlueWhaleYT</div><div class="post-copyright__author_desc">荒誕的極樂世界</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://bluewhaleyt.github.io/post/jetpack-compose-dev-kotlin-multiplatform-notes.html">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://bluewhaleyt.github.io/post/jetpack-compose-dev-kotlin-multiplatform-notes.html')">Kotlin Compose 跨平台項目開發筆記</span></a></div><div class="post-copyright__notice"><span class="post-copyright-info">本部落格所有文章除特別聲明外，均採用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 許可協議。轉載請註明來自 <a href="https://bluewhaleyt.github.io" target="_blank">BlueWhaleYT 個人網誌</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__category-list"><a class="post-meta__box__categoryes" href="/categories/%E7%A8%8B%E5%BC%8F%E7%B7%A8%E5%AF%AB/"><span class="categoryes-punctuation"> <i class="anzhiyufont anzhiyu-icon-inbox"></i></span>程式編寫<span class="categoryesPageCount">9</span></a><a class="post-meta__box__categoryes" href="/categories/Android-%E9%96%8B%E7%99%BC/"><span class="categoryes-punctuation"> <i class="anzhiyufont anzhiyu-icon-inbox"></i></span>Android 開發<span class="categoryesPageCount">7</span></a><a class="post-meta__box__categoryes" href="/categories/Jetpack-Compose/"><span class="categoryes-punctuation"> <i class="anzhiyufont anzhiyu-icon-inbox"></i></span>Jetpack Compose<span class="categoryesPageCount">1</span></a></div><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/Android/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Android<span class="tagsPageCount">7</span></a><a class="post-meta__box__tags" href="/tags/Gradle/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Gradle<span class="tagsPageCount">4</span></a><a class="post-meta__box__tags" href="/tags/Kotlin/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Kotlin<span class="tagsPageCount">3</span></a><a class="post-meta__box__tags" href="/tags/Swift/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Swift<span class="tagsPageCount">1</span></a></div></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/android-dev-github-workflow-android-ci.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://i.imgur.com/n5HI95f.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">GitHub Android CI 開源程式流程部署</div></div></a></div><div class="next-post pull-right"><a href="/post/android-dev-kotlin-dokka-api-docs.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://i.imgur.com/Kfdq5uB.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">JetBrains 開發的 Dokka API 文檔系統</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>相關推薦</span></div><div class="relatedPosts-list"><div><a href="/post/android-dev-kotlin-dokka-api-docs.html" title="JetBrains 開發的 Dokka API 文檔系統"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://i.imgur.com/Kfdq5uB.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023 年 07 月 10 日</div><div class="title">JetBrains 開發的 Dokka API 文檔系統</div></div></a></div><div><a href="/post/android-dev-basic-tutorial.html" title="Android 開發入門基礎"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://i.imgur.com/8iWRUFf.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023 年 04 月 26 日</div><div class="title">Android 開發入門基礎</div></div></a></div><div><a href="/post/android-dev-github-workflow-android-ci.html" title="GitHub Android CI 開源程式流程部署"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://i.imgur.com/n5HI95f.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023 年 05 月 07 日</div><div class="title">GitHub Android CI 開源程式流程部署</div></div></a></div><div><a href="/post/android-dev-sora-editor-lib-notes.html" title="Sora Editor 編輯器依賴庫使用筆記"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://i.imgur.com/eRkHnS4.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2022 年 12 月 09 日</div><div class="title">Sora Editor 編輯器依賴庫使用筆記</div></div></a></div><div><a href="/post/android-dev-openai-utils.html" title="編寫 OpenAIUtils 輕鬆使用 OpenAI API"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://i.imgur.com/dawMAkm.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023 年 03 月 04 日</div><div class="title">編寫 OpenAIUtils 輕鬆使用 OpenAI API</div></div></a></div><div><a href="/post/android-dev-develop-chatgpt-android-app-tutorial.html" title="實作類似 ChatGPT 的機器人聊天 Android 程式"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://i.imgur.com/DJFMOsN.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023 年 03 月 04 日</div><div class="title">實作類似 ChatGPT 的機器人聊天 Android 程式</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://i.ibb.co/zRvn96K/20210718-233824.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__description">歡迎來到「BlueWhaleYT 個人網誌」。</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">BlueWhaleYT</h1><div class="author-info__desc">荒誕的極樂世界</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/BlueWhaleYT" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content">因為本網誌內部採用了「繁簡轉換」關係，所以正體中文或會在編碼過程中，被視為異體字或小作的中文字符會被過濾為大作，敬請見諒。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目錄</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%98%E6%96%B9%E6%95%99%E5%AD%B8"><span class="toc-number">1.</span> <span class="toc-text">官方教學</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83"><span class="toc-number">2.</span> <span class="toc-text">建置環境</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AA%A2%E6%9F%A5%E7%92%B0%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-number">2.1.</span> <span class="toc-text">檢查環境配置</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E9%85%8D%E7%BD%AE"><span class="toc-number">3.</span> <span class="toc-text">初始配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B0%E5%BB%BA%E4%B8%80%E5%80%8B-KMM-%EF%BC%88%E8%B7%A8%E5%B9%B3%E5%8F%B0%EF%BC%89-%E9%A0%85%E7%9B%AE"><span class="toc-number">3.1.</span> <span class="toc-text">新建一個 KMM （跨平台） 項目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-Gradle-%E8%A8%AD%E5%AE%9A"><span class="toc-number">3.2.</span> <span class="toc-text">配置 Gradle 設定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BB%BA%E7%BD%AE%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE"><span class="toc-number">3.3.</span> <span class="toc-text">建置文件配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B9%E7%9B%AE%E9%8C%84"><span class="toc-number">3.3.1.</span> <span class="toc-text">根目錄</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shared-%E6%A8%A1%E5%A1%8A"><span class="toc-number">3.3.2.</span> <span class="toc-text">shared 模塊</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#androidApp-%E6%A8%A1%E5%A1%8A"><span class="toc-number">3.3.3.</span> <span class="toc-text">androidApp 模塊</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E8%A8%AD%E5%AE%9A%E6%AA%94"><span class="toc-number">3.4.</span> <span class="toc-text">配置設定檔</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#iOS-%E7%A8%8B%E5%BC%8F%E6%94%AF%E6%8F%B4%E9%85%8D%E7%BD%AE"><span class="toc-number">3.5.</span> <span class="toc-text">iOS 程式支援配置</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/dev-google-script-youtube-dynamic-title.html" title="編寫 GoogleScript 程式實現 Youtube 影片動態標題"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://i.imgur.com/HQprPD6.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="編寫 GoogleScript 程式實現 Youtube 影片動態標題"/></a><div class="content"><a class="title" href="/post/dev-google-script-youtube-dynamic-title.html" title="編寫 GoogleScript 程式實現 Youtube 影片動態標題">編寫 GoogleScript 程式實現 Youtube 影片動態標題</a><time datetime="2023-10-06T14:50:58.000Z" title="發表於 2023 年 10 月 06 日 22 時 50 分 58 秒">2023 年 10 月 06 日</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/ai-image-generation-stable-diffusion.html" title="人工智能的圖像生成 - Stable Diffusion"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://i.imgur.com/YppRLS4.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="人工智能的圖像生成 - Stable Diffusion"/></a><div class="content"><a class="title" href="/post/ai-image-generation-stable-diffusion.html" title="人工智能的圖像生成 - Stable Diffusion">人工智能的圖像生成 - Stable Diffusion</a><time datetime="2023-10-01T14:10:00.000Z" title="發表於 2023 年 10 月 01 日 22 時 10 分 00 秒">2023 年 10 月 01 日</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/android-dev-kotlin-dokka-api-docs.html" title="JetBrains 開發的 Dokka API 文檔系統"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://i.imgur.com/Kfdq5uB.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JetBrains 開發的 Dokka API 文檔系統"/></a><div class="content"><a class="title" href="/post/android-dev-kotlin-dokka-api-docs.html" title="JetBrains 開發的 Dokka API 文檔系統">JetBrains 開發的 Dokka API 文檔系統</a><time datetime="2023-07-10T14:43:40.000Z" title="發表於 2023 年 07 月 10 日 22 時 43 分 40 秒">2023 年 07 月 10 日</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/jetpack-compose-dev-kotlin-multiplatform-notes.html" title="Kotlin Compose 跨平台項目開發筆記"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://i.imgur.com/GUsLcS8.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kotlin Compose 跨平台項目開發筆記"/></a><div class="content"><a class="title" href="/post/jetpack-compose-dev-kotlin-multiplatform-notes.html" title="Kotlin Compose 跨平台項目開發筆記">Kotlin Compose 跨平台項目開發筆記</a><time datetime="2023-06-26T12:31:48.000Z" title="發表於 2023 年 06 月 26 日 20 時 31 分 48 秒">2023 年 06 月 26 日</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/android-dev-github-workflow-android-ci.html" title="GitHub Android CI 開源程式流程部署"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://i.imgur.com/n5HI95f.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="GitHub Android CI 開源程式流程部署"/></a><div class="content"><a class="title" href="/post/android-dev-github-workflow-android-ci.html" title="GitHub Android CI 開源程式流程部署">GitHub Android CI 開源程式流程部署</a><time datetime="2023-05-07T09:42:00.000Z" title="發表於 2023 年 05 月 07 日 17 時 42 分 00 秒">2023 年 05 月 07 日</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2021 - 2023 By <a class="footer-bar-link" href="/" title="BlueWhaleYT" target="_blank">BlueWhaleYT</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" href="/" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/" title="tag"><div class="headline">標籤</div><div class="length-num">15</div></a><a href="/categories/" title="category"><div class="headline">分類</div><div class="length-num">5</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="顯示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>顯示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">工具</div><div class="back-menu-list"><a class="back-menu-item" href="/gpt-prompt-template" title="GPT 提詞模板"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="GPT 提詞模板"/><span class="back-menu-item-text">GPT 提詞模板</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">工具</div><div class="back-menu-list"><a class="back-menu-item" href="/gpt-prompt-template" title="GPT 提詞模板"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="GPT 提詞模板"/><span class="back-menu-item-text">GPT 提詞模板</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 「絲襪」地帶</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/gpt-prompt-template"><span> GPT 提詞模板</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Android/" style="font-size: 0.88rem; font-weight: 500; color: var(--anzhiyu-lighttext)">Android<sup>7</sup></a><a href="/tags/CSS/" style="font-size: 0.88rem;">CSS<sup>1</sup></a><a href="/tags/GoogleScript/" style="font-size: 0.88rem;">GoogleScript<sup>1</sup></a><a href="/tags/Gradle/" style="font-size: 0.88rem;">Gradle<sup>4</sup></a><a href="/tags/HTML/" style="font-size: 0.88rem;">HTML<sup>1</sup></a><a href="/tags/JSON/" style="font-size: 0.88rem;">JSON<sup>2</sup></a><a href="/tags/Java/" style="font-size: 0.88rem;">Java<sup>4</sup></a><a href="/tags/JavaScript/" style="font-size: 0.88rem;">JavaScript<sup>2</sup></a><a href="/tags/Kotlin/" style="font-size: 0.88rem;">Kotlin<sup>3</sup></a><a href="/tags/Markdown/" style="font-size: 0.88rem;">Markdown<sup>1</sup></a><a href="/tags/Regex/" style="font-size: 0.88rem;">Regex<sup>1</sup></a><a href="/tags/Swift/" style="font-size: 0.88rem;">Swift<sup>1</sup></a><a href="/tags/XML/" style="font-size: 0.88rem;">XML<sup>4</sup></a><a href="/tags/YAML/" style="font-size: 0.88rem;">YAML<sup>2</sup></a><a href="/tags/%E7%B5%82%E7%AB%AF%E6%A9%9F%E6%8C%87%E4%BB%A4/" style="font-size: 0.88rem;">終端機指令<sup>2</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="閱讀模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="簡繁轉換">繁</button><button id="darkmode" type="button" title="淺色和深色模式轉換"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="設定"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目錄"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到頂部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜尋</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  資料庫載入中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜尋文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.4/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.cbd.int/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2021 By 安知鱼 V1.6.8",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 BlueWhaleYT 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script src="https://cdn.cbd.int/prismjs@1.29.0/prism.js"></script><script src="https://cdn.cbd.int/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script><script src="https://cdn.cbd.int/prismjs@1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "visitor@anheyu.com";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div><!-- hexo injector body_end start --><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --></body></html>