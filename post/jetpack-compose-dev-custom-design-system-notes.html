<!DOCTYPE html><html lang="zh-TW" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Jetpack Compose 開發 | 實作自訂設計系統 | 🐳 BlueWhaleYT</title><meta name="keywords" content="Kotlin,Android"><meta name="author" content="BlueWhaleYT"><meta name="copyright" content="BlueWhaleYT"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="Jetpack Compose 開發 | 實作自訂設計系統"><meta name="application-name" content="Jetpack Compose 開發 | 實作自訂設計系統"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="Jetpack Compose 開發 | 實作自訂設計系統"><meta property="og:url" content="https://bluewhaleyt.github.io/post/jetpack-compose-dev-custom-design-system-notes.html"><meta property="og:site_name" content="🐳 BlueWhaleYT"><meta property="og:description" content="有時候，我們想寫應用程式時，由其是現在使用 Jetpack Compose 框架，可能會用到 Compose 跨平台架構，實現 Android 及 iOS 雙平台手機程式，如果沿用官方提供的質感設計 3 來做程式，依然沒問題，只是有點不能突顯程式的獨特性。 所以，你看到大部分熱門及大型公司製造的應用"><meta property="og:locale" content="zh-TW"><meta property="og:image" content="https://i.imgur.com/NETPgOw.png"><meta property="article:author" content="BlueWhaleYT"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://i.imgur.com/NETPgOw.png"><meta name="description" content="有時候，我們想寫應用程式時，由其是現在使用 Jetpack Compose 框架，可能會用到 Compose 跨平台架構，實現 Android 及 iOS 雙平台手機程式，如果沿用官方提供的質感設計 3 來做程式，依然沒問題，只是有點不能突顯程式的獨特性。 所以，你看到大部分熱門及大型公司製造的應用"><link rel="shortcut icon" href="https://i.ibb.co/zRvn96K/personal-icon.jpg"><link rel="canonical" href="https://bluewhaleyt.github.io/post/jetpack-compose-dev-custom-design-system-notes"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: undefined,
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: false,
  mainTone: {"mode":"both","api":"https://img2color-go.vercel.app/api?img=","cover_change":true},
  authorStatus: undefined,
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查詢的內容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '複製成功',
    error: '複製錯誤',
    noSupport: '瀏覽器不支援'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '剛剛',
    min: '分鐘前',
    hour: '小時前',
    day: '天前',
    month: '個月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: BlueWhaleYT","link":"連結: ","source":"來源: 🐳 BlueWhaleYT","info":"著作權歸作者所有。商業轉載請聯絡作者獲得授權，非商業轉載請註明出處。","copySuccess":"複製成功，複製和轉載請標注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切換為繁體","cht_to_chs":"你已切換為簡體","day_to_night":"你已切換為深色模式","night_to_day":"你已切換為淺色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '🐳 BlueWhaleYT',
  title: 'Jetpack Compose 開發 | 實作自訂設計系統',
  postAI: '',
  pageFillDescription: '以官方提供的 API 寫自訂的設計系統, 擴充現有主題設定, 構建自訂的設計主題, 瞭解設計系統指標, 構建主題, 釐定主題指標, 顏色, 字型, 間距, 判定淺色及深色主題顏色值, 構建本機範圍資料, 構建主題, 應用主題有時候我們想寫應用程式時由其是現在使用框架可能會用到跨平台架構實現及雙平台手機程式如果沿用官方提供的質感設計來做程式依然沒問題只是有點不能突顯程式的獨特性所以你看到大部分熱門及大型公司製造的應用程式有些雖然都是沿用質感設計但是其實是以這個為根基之後再客製化的從而反映程式別具一樹的設計風格這裏會記錄一下實際上一個設計系統怎做以官方提供的寫自訂的設計系統首先有一點是無庸置疑的就是官方寫的質感設計都是用這個寫出來的意味着只要我們參考這個質感設計主題的實現代碼就可以做一個自訂主題擴充現有主題設定如果是論擴充這裏就不是自訂主題純粹是擴充而已但如果你只有擴充的需要你可以考慮選擇個別擴充還是整體擴充個別擴充若是你想純粹在預設的質感設計系統中擴充新的設計指標如色彩字型等你可以輕鬆運用擴充函數進行擴展要使用這個顏色可以沿用對象其他例子其他都可以字型形狀整體擴充為現時的主題進行額外的擴展不再局限於某部分組件的應用設計指標例如目前的主題只有主色及次色現在想新增第三色點我看代碼構建新的數據類這個數據類將會用於設置顏色值是特有的註解可以提高重組性能構建本機範圍資料構建擴充主題應用提供的顏色至組件這個是繼承了的設計指標所以運用可保留使用的巢狀結構構建自訂的設計主題以上說的純粹是以現有的主題進行擴充但如果真的要自訂全新的設計系統其實並不難瞭解設計系統指標檢查的源代碼你會發現設計指標有顏色字型及形狀不過或許你會覺得不足夠的情況例如間距設置內距或外距的值構建主題釐定主題指標顏色大概需要的顏色如下字型通常字型都需要處理標題至標題段落文字的不同大小這裏先簡單做個間距這個主題的間距指標會有個例如判定淺色及深色主題顏色值構建本機範圍資料構建主題應用主題',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023 年 11 月 30 日 13 時 50 分 23 秒',
  postMainColor: '#05c46b',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/codethemes/code-dark.css" media="defer" onload="this.media='all'"><!-- hexo injector head_end start --><style type="text/css">
.CodeMirror-lines,.line,.code-output,.code,.token {
    font-size: 16px;
    line-height: 22px;
}
</style><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://i.ibb.co/zRvn96K/personal-icon.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">🐳 BlueWhaleYT</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜尋</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新評論</span></div><div class="aside-list"><span>正在載入中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Android/" style="font-size: 1.05rem; font-weight: 500; color: var(--anzhiyu-lighttext)">Android<sup>3</sup></a><a href="/tags/Desktop/" style="font-size: 1.05rem;">Desktop<sup>1</sup></a><a href="/tags/Express/" style="font-size: 1.05rem;">Express<sup>1</sup></a><a href="/tags/HTML/" style="font-size: 1.05rem;">HTML<sup>1</sup></a><a href="/tags/JSON/" style="font-size: 1.05rem;">JSON<sup>1</sup></a><a href="/tags/Java/" style="font-size: 1.05rem;">Java<sup>2</sup></a><a href="/tags/JavaScript/" style="font-size: 1.05rem;">JavaScript<sup>2</sup></a><a href="/tags/Kotlin/" style="font-size: 1.05rem; font-weight: 500; color: var(--anzhiyu-lighttext)">Kotlin<sup>7</sup></a><a href="/tags/Lua/" style="font-size: 1.05rem;">Lua<sup>2</sup></a><a href="/tags/Markdown/" style="font-size: 1.05rem;">Markdown<sup>1</sup></a><a href="/tags/Node-js/" style="font-size: 1.05rem;">Node.js<sup>1</sup></a><a href="/tags/Roblox/" style="font-size: 1.05rem;">Roblox<sup>2</sup></a><a href="/tags/Swift/" style="font-size: 1.05rem;">Swift<sup>1</sup></a><a href="/tags/XML/" style="font-size: 1.05rem;">XML<sup>1</sup></a><a href="/tags/iOS/" style="font-size: 1.05rem;">iOS<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>歸檔</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">4</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/08/"><span class="card-archive-list-date">八月 2021</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%A8%8B%E5%BC%8F%E7%B7%A8%E5%AF%AB/" itemprop="url">程式編寫</a><i class="anzhiyufont anzhiyu-icon-angle-right post-meta-separator"></i><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/Jetpack-Compose-%E9%96%8B%E7%99%BC/" itemprop="url">Jetpack Compose 開發</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/Kotlin/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Kotlin</span></a><a class="article-meta__tags" href="/tags/Android/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Android</span></a></span></div></div><h1 class="post-title" itemprop="name headline">Jetpack Compose 開發 | 實作自訂設計系統</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">發表於</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2023-10-14T05:51:52.000Z" title="發表於 2023 年 10 月 14 日 13 時 51 分 52 秒">2023 年 10 月 14 日</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新於</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2023-11-30T05:50:23.397Z" title="更新於 2023 年 11 月 30 日 13 時 50 分 23 秒">2023 年 11 月 30 日</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字數總計:</span><span class="word-count" title="文章字数">1.3k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">閱讀時長:</span><span>5分鐘</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="Jetpack Compose 開發 | 實作自訂設計系統"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">閱讀量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://i.imgur.com/NETPgOw.png"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/NETPgOw.png" style="pointer-events: none;"><hr><article class="post-content" id="article-container" itemscope itemtype="https://bluewhaleyt.github.io/post/jetpack-compose-dev-custom-design-system-notes.html"><header><a class="post-meta-categories" href="/categories/%E7%A8%8B%E5%BC%8F%E7%B7%A8%E5%AF%AB/" itemprop="url">程式編寫</a><a class="post-meta-categories" href="/categories/Jetpack-Compose-%E9%96%8B%E7%99%BC/" itemprop="url">Jetpack Compose 開發</a><a href="/tags/Kotlin/" tabindex="-1" itemprop="url">Kotlin</a><a href="/tags/Android/" tabindex="-1" itemprop="url">Android</a><h1 id="CrawlerTitle" itemprop="name headline">Jetpack Compose 開發 | 實作自訂設計系統</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">BlueWhaleYT</span><time itemprop="dateCreated datePublished" datetime="2023-10-14T05:51:52.000Z" title="發表於 2023 年 10 月 14 日 13 時 51 分 52 秒">2023 年 10 月 14 日</time><time itemprop="dateCreated datePublished" datetime="2023-11-30T05:50:23.397Z" title="更新於 2023 年 11 月 30 日 13 時 50 分 23 秒">2023 年 11 月 30 日</time></header><p>有時候，我們想寫應用程式時，由其是現在使用 Jetpack Compose 框架，可能會用到 Compose 跨平台架構，實現 Android 及 iOS 雙平台手機程式，如果沿用官方提供的質感設計 3 來做程式，依然沒問題，只是有點不能突顯程式的獨特性。</p>
<p>所以，你看到大部分熱門及大型公司製造的應用程式，有些雖然都是沿用質感設計 3，但是其實是以這個為根基，之後再客製化的，從而反映程式別具一樹的設計風格。</p>
<p>這裏會記錄一下實際上一個設計系統怎做。</p>
<hr>
<h1 id="以官方提供的-API-寫自訂的設計系統"><a href="#以官方提供的-API-寫自訂的設計系統" class="headerlink" title="以官方提供的 API 寫自訂的設計系統"></a>以官方提供的 API 寫自訂的設計系統</h1><p>首先，有一點是無庸置疑的就是官方寫的質感設計 3 都是用這個 API 寫出來的，意味着只要我們參考這個質感設計 3 主題的實現代碼，就可以做一個自訂主題。</p>
<hr>
<h1 id="擴充現有主題設定"><a href="#擴充現有主題設定" class="headerlink" title="擴充現有主題設定"></a>擴充現有主題設定</h1><p>如果是論擴充，這裏就不是自訂主題，純粹是擴充而已，但如果你只有擴充的需要，你可以考慮選擇個別擴充還是整體擴充。</p>
<ol>
<li><p>個別擴充：若是你想純粹在預設的質感設計系統中，擴充新的設計指標，如色彩、字型等，你可以輕鬆運用擴充函數進行擴展。</p>
<pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">val Colors.snackbarAction: Color
    get() &#x3D; if (isLight) Red300 else Red700</code></pre>
<p>要使用這個顏色，可以沿用 <code>MaterialTheme</code> 對象：</p>
<pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">val color &#x3D; MaterialTheme.colors.snackbarAction</code></pre>
<details class="folding-tag"><summary> 其他例子 </summary>
              <div class="content">
              <p>其他都可以：<br>字型</p><pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">&#x2F;&#x2F; Use with MaterialTheme.typography.textFieldInput
val Typography.textFieldInput: TextStyle
    get() &#x3D; TextStyle(...)</code></pre><p>形狀</p><pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">&#x2F;&#x2F; Use with MaterialTheme.shapes.card
val Shapes.card: Shape
    get() &#x3D; RoundedCornerShape(size &#x3D; 20.dp)</code></pre>
              </div>
            </details>
</li>
<li><p>整體擴充：為現時的主題進行額外的擴展，不再局限於某部分組件的應用設計指標。<br>例如，目前的主題只有 primary (主色) 及 secondary (次色)，現在想新增 tertiary (第三色)。</p>
<details class="folding-tag"><summary> 點我看代碼 </summary>
              <div class="content">
              <ol><li>構建新的數據類<br>這個數據類將會用於設置顏色值。<pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">@Immutable
data class ExtendedColors(
    val tertiary: Color,
    val onTertiary: Color
)</code></pre><div class="note info simple"><p><code>@Immutable</code> 是 Compose 特有的註解，可以提高重組性能。</p></div></li><li>構建本機範圍資料<pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">val LocalExtendedColors &#x3D; staticCompositionLocalOf &#123;
    ExtendedColors(
        tertiary &#x3D; Color.Unspecified,
        onTertiary &#x3D; Color.Unspecified,
    )
&#125;</code></pre></li><li>構建擴充主題<pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">@Composable
fun ExtendedTheme(
    &#x2F;* ... *&#x2F;
    content: @Composable () -&gt; Unit
) &#123;
    val extendedColors &#x3D; ExtendedColors(
        tertiary &#x3D; Color(0xFFA8EFF0),
        onTertiary &#x3D; Color(0xFF002021)
    )
    CompositionLocalProvider(LocalExtendedColors provides extendedColors) &#123;
        MaterialTheme(
            &#x2F;* colors &#x3D; ..., typography &#x3D; ..., shapes &#x3D; ... *&#x2F;
            content &#x3D; content
        )
    &#125;
&#125;

&#x2F;&#x2F; Use with eg. ExtendedTheme.colors.tertiary
object ExtendedTheme &#123;
    val colors: ExtendedColors
        @Composable
        get() &#x3D; LocalExtendedColors.current
&#125;</code></pre></li><li>應用 <code>ExtendedTheme</code> 提供的顏色至組件<br>這個 <code>ExtendedTheme</code> 是繼承了 <code>MaterialTheme</code> 的設計指標，所以運用 <code>ExtendedTheme</code> 可保留使用 <code>MaterialTheme</code> 的巢狀結構.<pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">@Composable
fun ExtendedButton(
    onClick: () -&gt; Unit,
    modifier: Modifier &#x3D; Modifier,
    content: @Composable RowScope.() -&gt; Unit
) &#123;
    Button(
        colors &#x3D; ButtonDefaults.buttonColors(
            backgroundColor &#x3D; ExtendedTheme.colors.tertiary,
            contentColor &#x3D; ExtendedTheme.colors.onTertiary
            &#x2F;* Other colors use values from MaterialTheme *&#x2F;
        ),
        onClick &#x3D; onClick,
        modifier &#x3D; modifier,
        content &#x3D; content
    )
&#125;</code></pre></li></ol>
              </div>
            </details></li>
</ol>
<hr>
<h1 id="構建自訂的設計主題"><a href="#構建自訂的設計主題" class="headerlink" title="構建自訂的設計主題"></a>構建自訂的設計主題</h1><p>以上說的，純粹是<strong>以現有的主題進行擴充</strong>，但如果真的要自訂全新的設計系統，其實並不難！</p>
<h2 id="瞭解設計系統指標"><a href="#瞭解設計系統指標" class="headerlink" title="瞭解設計系統指標"></a>瞭解設計系統指標</h2><p>檢查 <code>MaterialTheme</code> 的源代碼：</p>
<pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">@Composable
fun MaterialTheme(
    colors: Colors &#x3D; MaterialTheme.colors,
    typography: Typography &#x3D; MaterialTheme.typography,
    shapes: Shapes &#x3D; MaterialTheme.shapes,
    content: @Composable () -&gt; Unit
)</code></pre>

<p>你會發現，設計指標有顏色、字型及形狀，不過，或許你會覺得不足夠的情況，例如間距 (Spaces)，設置內距或外距的值。</p>
<h2 id="構建主題"><a href="#構建主題" class="headerlink" title="構建主題"></a>構建主題</h2><pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">object CustomTheme &#123;
    val colors: CustomColors
        @Composable
        @ReadOnlyComposable
        get() &#x3D; LocalColors.current

    val typography: CustomTypography
        @Composable
        @ReadOnlyComposable
        get() &#x3D; LocalTypography.current

    val shapes: Shapes
        @Composable
        @ReadOnlyComposable
        get() &#x3D; LocalShapes.current

    val spaces: CustomSpaces
        @Composable
        @ReadOnlyComposable
        get() &#x3D; LocalSpaces.current
&#125;</code></pre>

<h3 id="釐定主題指標"><a href="#釐定主題指標" class="headerlink" title="釐定主題指標"></a>釐定主題指標</h3><h4 id="顏色"><a href="#顏色" class="headerlink" title="顏色"></a>顏色</h4><p>大概需要的顏色如下：</p>
<ul>
<li><code>primary</code></li>
<li><code>content</code></li>
<li><code>background</code></li>
<li><code>success</code></li>
<li><code>error</code></li>
</ul>
<pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">data class CustomColors(
    val primary: Color,
    val content: Color,
    val background: Color,
    val success: Color,
    val error: Color
) &#123;
    val primary by mutableStateOf(primary)
        private set
    val content by mutableStateOf(content)
        private set
    val background by mutableStateOf(background)
        private set
    val success by mutableStateOf(success)
        private set
    val error by mutableStateOf(error)
        private set
    
    fun copy(
        primary: Color &#x3D; this.primary,
        content: Color &#x3D; this.content,
        background: Color &#x3D; this.background,
        success: Color &#x3D; this.success,
        error: Color &#x3D; this.error,
    ) &#x3D; CustomColors(
        primary &#x3D; primary,
        content &#x3D; content,
        background &#x3D; background,
        success &#x3D; success,
        error &#x3D; error,
    )
    fun updateColorsFrom(other: CustomColors) &#123;
        primary &#x3D; other.primary
        content &#x3D; other.content
        background &#x3D; other.background
        success &#x3D; other.success
        error &#x3D; other.error
    &#125;
&#125;</code></pre>

<h4 id="字型"><a href="#字型" class="headerlink" title="字型"></a>字型</h4><p>通常字型都需要處理標題 1 至標題 6，段落文字的不同大小，這裏先簡單做 2 個：</p>
<ul>
<li><code>heading1</code></li>
<li><code>body1</code></li>
</ul>
<pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">data class CustomTypography(
    val heading1: TextStyle &#x3D; TextStyle(
        fontFamily &#x3D; FontFamily.SansSerif,
        fontWeight &#x3D; FontWeight.Bold,
        fontSize &#x3D; 24.sp
    ),
    val body1: TextStyle &#x3D; TextStyle(
        fontFamily &#x3D; FontFamily.SansSerif,
        fontWeight &#x3D; FontWeight.Normal,
        fontSize &#x3D; 16.sp
    ),
)</code></pre>

<h4 id="間距"><a href="#間距" class="headerlink" title="間距"></a>間距</h4><p>這個主題的間距指標會有 3 個，例如：</p>
<ul>
<li><code>small</code></li>
<li><code>medium</code></li>
<li><code>large</code></li>
</ul>
<pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">data class CustomSpaces(
    val small: Dp &#x3D; 4.dp,
    val medium: Dp &#x3D; 8.dp,
    val large: Dp &#x3D; 16.dp
)</code></pre>

<h3 id="判定淺色及深色主題顏色值"><a href="#判定淺色及深色主題顏色值" class="headerlink" title="判定淺色及深色主題顏色值"></a>判定淺色及深色主題顏色值</h3><pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">fun lightColors() &#x3D; CustomColors(
    primary &#x3D; Color(0xFFE67E22),
    content &#x3D; Color(0xFF000000),
    background &#x3D; Color(0xFFF5F5F5),
    success &#x3D; Color(0xFF2ECC71),
    error &#x3D; Color(0xFFE74C3C),
)

fun darkColors() &#x3D; CustomColors(
    primary &#x3D; Color(0xFFDF6900),
    content &#x3D; Color(0xFFFFFFFF),
    background &#x3D; Color(0xFF353B48),
    success &#x3D; Color(0xFF44BD32),
    error &#x3D; Color(0xFFC23616),
)</code></pre>

<h3 id="構建本機範圍資料"><a href="#構建本機範圍資料" class="headerlink" title="構建本機範圍資料"></a>構建本機範圍資料</h3><pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">val LocalSpaces &#x3D; staticCompositionLocalOf &#123; CustomSpaces() &#125;

val LocalColors &#x3D; staticCompositionLocalOf &#123; lightColors() &#125;

val LocalTypography &#x3D; staticCompositionLocalOf &#123; CustomTypography() &#125;</code></pre>

<h3 id="構建主題-1"><a href="#構建主題-1" class="headerlink" title="構建主題"></a>構建主題</h3><pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">@Composable
fun CustomTheme(
    spaces: CustomSpaces &#x3D; CustomTheme.spaces,
    typography: CustomTypography &#x3D; CustomTheme.typography,
    colors: CustomColors &#x3D; CustomTheme.colors,
    content: @Composable () -&gt; Unit,
) &#123;
    val rememberedColors &#x3D; remember &#123; colors.copy() &#125;.apply &#123; updateColorsFrom(colors) &#125;
    CompositionLocalProvider(
        LocalColors provides rememberedColors,
        LocalSpaces provides spaces,
        LocalTypography provides typography,
    ) &#123;
        ProvideTextStyle(typography.body1, content &#x3D; content)
    &#125;
&#125;</code></pre>

<h2 id="應用主題"><a href="#應用主題" class="headerlink" title="應用主題"></a>應用主題</h2><pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin">class MainActivity : ComponentActivity() &#123;
    override fun onCreate(savedInstanceState: Bundle?) &#123;
        super.onCreate(savedInstanceState)
        setContent &#123;
            CustomTheme &#123;
                App()
            &#125;
        &#125;
    &#125;
&#125;</code></pre></article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.ibb.co/zRvn96K/personal-icon.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.ibb.co/zRvn96K/personal-icon.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">BlueWhaleYT</div><div class="post-copyright__author_desc">荒誕的極樂世界</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://bluewhaleyt.github.io/post/jetpack-compose-dev-custom-design-system-notes.html">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://bluewhaleyt.github.io/post/jetpack-compose-dev-custom-design-system-notes.html')">Jetpack Compose 開發 | 實作自訂設計系統</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://bluewhaleyt.github.io/post/jetpack-compose-dev-custom-design-system-notes.html"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本部落格所有文章除特別聲明外，均採用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 許可協議。轉載請註明來自 <a href="https://bluewhaleyt.github.io" target="_blank">🐳 BlueWhaleYT</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/Kotlin/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Kotlin<span class="tagsPageCount">7</span></a><a class="post-meta__box__tags" href="/tags/Android/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Android<span class="tagsPageCount">3</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://i.ibb.co/zRvn96K/personal-icon.jpg" data-sites="facebook,twitter"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/web-dev-restful-api-implementation-notes.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/oPLVYuN.png" onerror="onerror=null;src='https://i.imgur.com/X9zVUFU.png'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">網頁開發 | RESTful API 實作筆記</div></div></a></div><div class="next-post pull-right"><a href="/post/roblox-dev-get-started-notes.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/fnyocqo.png" onerror="onerror=null;src='https://i.imgur.com/X9zVUFU.png'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Roblox 開發 | 入手編寫筆記</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>相關推薦</span></div><div class="relatedPosts-list"><div><a href="/post/jetpack-compose-dev-keystore-release.html" title="Jetpack Compose 開發 | 解決卡頓的關鍵：使用 release 版本運行"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023 年 12 月 08 日</div><div class="title">Jetpack Compose 開發 | 解決卡頓的關鍵：使用 release 版本運行</div></div></a></div><div><a href="/post/jetpack-compsoe-dev-compose-multiplatform-notes.html" title="Jetpack Compose 開發 | 跨平台項目開發筆記"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/UmTOcOp.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023 年 06 月 26 日</div><div class="title">Jetpack Compose 開發 | 跨平台項目開發筆記</div></div></a></div><div><a href="/post/android-dev-jetbrains-dokka.html" title="Android 開發 | Jetbrains 研發的 Dokka API 文檔"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/x0NbbG2.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023 年 07 月 10 日</div><div class="title">Android 開發 | Jetbrains 研發的 Dokka API 文檔</div></div></a></div><div><a href="/post/android-dev-sora-editor-lib-notes.html" title="Android 開發 | Sora Editor 編輯器函式庫"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/oqr8QYp.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2022 年 12 月 09 日</div><div class="title">Android 開發 | Sora Editor 編輯器函式庫</div></div></a></div><div><a href="/post/dev-migrate-to-kotlin-from-java.html" title="程式編寫 | 由 Java 遷移到 Kotlin 的基礎"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/2ZQ3zHY.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2022 年 12 月 21 日</div><div class="title">程式編寫 | 由 Java 遷移到 Kotlin 的基礎</div></div></a></div><div><a href="/post/dev-kotlin-integrated-notes.html" title="程式編寫 | 綜合整理 Kotlin 筆記"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/66jn0VC.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023 年 12 月 01 日</div><div class="title">程式編寫 | 綜合整理 Kotlin 筆記</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div id="google_translate_element"></div><script type="text/javascript">function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'zh-TW', includedLanguages: 'ja,ko,en,zh-TW,zh-CN'}, 'google_translate_element');
}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><div class="card-widget card-info"><div class="card-content"><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.ibb.co/zRvn96K/personal-icon.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__description">你說的都對。</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">BlueWhaleYT</h1><div class="author-info__desc">荒誕的極樂世界</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/BlueWhaleYT" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目錄</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%A5%E5%AE%98%E6%96%B9%E6%8F%90%E4%BE%9B%E7%9A%84-API-%E5%AF%AB%E8%87%AA%E8%A8%82%E7%9A%84%E8%A8%AD%E8%A8%88%E7%B3%BB%E7%B5%B1"><span class="toc-number">1.</span> <span class="toc-text">以官方提供的 API 寫自訂的設計系統</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%93%B4%E5%85%85%E7%8F%BE%E6%9C%89%E4%B8%BB%E9%A1%8C%E8%A8%AD%E5%AE%9A"><span class="toc-number">2.</span> <span class="toc-text">擴充現有主題設定</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A7%8B%E5%BB%BA%E8%87%AA%E8%A8%82%E7%9A%84%E8%A8%AD%E8%A8%88%E4%B8%BB%E9%A1%8C"><span class="toc-number">3.</span> <span class="toc-text">構建自訂的設計主題</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9E%AD%E8%A7%A3%E8%A8%AD%E8%A8%88%E7%B3%BB%E7%B5%B1%E6%8C%87%E6%A8%99"><span class="toc-number">3.1.</span> <span class="toc-text">瞭解設計系統指標</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A7%8B%E5%BB%BA%E4%B8%BB%E9%A1%8C"><span class="toc-number">3.2.</span> <span class="toc-text">構建主題</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%90%E5%AE%9A%E4%B8%BB%E9%A1%8C%E6%8C%87%E6%A8%99"><span class="toc-number">3.2.1.</span> <span class="toc-text">釐定主題指標</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%8F%E8%89%B2"><span class="toc-number">3.2.1.1.</span> <span class="toc-text">顏色</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E5%9E%8B"><span class="toc-number">3.2.1.2.</span> <span class="toc-text">字型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%96%93%E8%B7%9D"><span class="toc-number">3.2.1.3.</span> <span class="toc-text">間距</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A4%E5%AE%9A%E6%B7%BA%E8%89%B2%E5%8F%8A%E6%B7%B1%E8%89%B2%E4%B8%BB%E9%A1%8C%E9%A1%8F%E8%89%B2%E5%80%BC"><span class="toc-number">3.2.2.</span> <span class="toc-text">判定淺色及深色主題顏色值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A7%8B%E5%BB%BA%E6%9C%AC%E6%A9%9F%E7%AF%84%E5%9C%8D%E8%B3%87%E6%96%99"><span class="toc-number">3.2.3.</span> <span class="toc-text">構建本機範圍資料</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A7%8B%E5%BB%BA%E4%B8%BB%E9%A1%8C-1"><span class="toc-number">3.2.4.</span> <span class="toc-text">構建主題</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%87%89%E7%94%A8%E4%B8%BB%E9%A1%8C"><span class="toc-number">3.3.</span> <span class="toc-text">應用主題</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/jetpack-compose-dev-keystore-release.html" title="Jetpack Compose 開發 | 解決卡頓的關鍵：使用 release 版本運行">Jetpack Compose 開發 | 解決卡頓的關鍵：使用 release 版本運行</a><time datetime="2023-12-08T06:18:35.000Z" title="發表於 2023 年 12 月 08 日 14 時 18 分 35 秒">2023 年 12 月 08 日</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/dev-kotlin-integrated-notes.html" title="程式編寫 | 綜合整理 Kotlin 筆記"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/66jn0VC.png" onerror="this.onerror=null;this.src='https://i.imgur.com/X9zVUFU.png'" alt="程式編寫 | 綜合整理 Kotlin 筆記"/></a><div class="content"><a class="title" href="/post/dev-kotlin-integrated-notes.html" title="程式編寫 | 綜合整理 Kotlin 筆記">程式編寫 | 綜合整理 Kotlin 筆記</a><time datetime="2023-12-01T06:49:09.000Z" title="發表於 2023 年 12 月 01 日 14 時 49 分 09 秒">2023 年 12 月 01 日</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/roblox-dev-create-plugins.html" title="Roblox 開發 | 建立插件"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/UKkO3yo.png" onerror="this.onerror=null;this.src='https://i.imgur.com/X9zVUFU.png'" alt="Roblox 開發 | 建立插件"/></a><div class="content"><a class="title" href="/post/roblox-dev-create-plugins.html" title="Roblox 開發 | 建立插件">Roblox 開發 | 建立插件</a><time datetime="2023-11-15T10:31:16.000Z" title="發表於 2023 年 11 月 15 日 18 時 31 分 16 秒">2023 年 11 月 15 日</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/roblox-dev-get-started-notes.html" title="Roblox 開發 | 入手編寫筆記"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/fnyocqo.png" onerror="this.onerror=null;this.src='https://i.imgur.com/X9zVUFU.png'" alt="Roblox 開發 | 入手編寫筆記"/></a><div class="content"><a class="title" href="/post/roblox-dev-get-started-notes.html" title="Roblox 開發 | 入手編寫筆記">Roblox 開發 | 入手編寫筆記</a><time datetime="2023-11-05T02:01:05.000Z" title="發表於 2023 年 11 月 05 日 10 時 01 分 05 秒">2023 年 11 月 05 日</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/jetpack-compose-dev-custom-design-system-notes.html" title="Jetpack Compose 開發 | 實作自訂設計系統"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://i.imgur.com/NETPgOw.png" onerror="this.onerror=null;this.src='https://i.imgur.com/X9zVUFU.png'" alt="Jetpack Compose 開發 | 實作自訂設計系統"/></a><div class="content"><a class="title" href="/post/jetpack-compose-dev-custom-design-system-notes.html" title="Jetpack Compose 開發 | 實作自訂設計系統">Jetpack Compose 開發 | 實作自訂設計系統</a><time datetime="2023-10-14T05:51:52.000Z" title="發表於 2023 年 10 月 14 日 13 時 51 分 52 秒">2023 年 10 月 14 日</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2023 By <a class="footer-bar-link" href="/" title="BlueWhaleYT" target="_blank">BlueWhaleYT</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" href="/null"></a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/" title="tag"><div class="headline">標籤</div><div class="length-num">15</div></a><a href="/categories/" title="category"><div class="headline">分類</div><div class="length-num">7</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="顯示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>顯示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://i.imgur.com/X9zVUFU.png&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Android/" style="font-size: 0.88rem; font-weight: 500; color: var(--anzhiyu-lighttext)">Android<sup>3</sup></a><a href="/tags/Desktop/" style="font-size: 0.88rem;">Desktop<sup>1</sup></a><a href="/tags/Express/" style="font-size: 0.88rem;">Express<sup>1</sup></a><a href="/tags/HTML/" style="font-size: 0.88rem;">HTML<sup>1</sup></a><a href="/tags/JSON/" style="font-size: 0.88rem;">JSON<sup>1</sup></a><a href="/tags/Java/" style="font-size: 0.88rem;">Java<sup>2</sup></a><a href="/tags/JavaScript/" style="font-size: 0.88rem;">JavaScript<sup>2</sup></a><a href="/tags/Kotlin/" style="font-size: 0.88rem; font-weight: 500; color: var(--anzhiyu-lighttext)">Kotlin<sup>7</sup></a><a href="/tags/Lua/" style="font-size: 0.88rem;">Lua<sup>2</sup></a><a href="/tags/Markdown/" style="font-size: 0.88rem;">Markdown<sup>1</sup></a><a href="/tags/Node-js/" style="font-size: 0.88rem;">Node.js<sup>1</sup></a><a href="/tags/Roblox/" style="font-size: 0.88rem;">Roblox<sup>2</sup></a><a href="/tags/Swift/" style="font-size: 0.88rem;">Swift<sup>1</sup></a><a href="/tags/XML/" style="font-size: 0.88rem;">XML<sup>1</sup></a><a href="/tags/iOS/" style="font-size: 0.88rem;">iOS<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="閱讀模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="簡繁轉換">繁</button><button id="darkmode" type="button" title="淺色和深色模式轉換"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="設定"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目錄"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到頂部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜尋</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  資料庫載入中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜尋文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.4/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.cbd.int/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script async src="/anzhiyu/random.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script src="https://cdn.cbd.int/prismjs@1.29.0/prism.js"></script><script src="https://cdn.cbd.int/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script><script src="https://cdn.cbd.int/prismjs@1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script><script>var visitorMail = "visitor@anheyu.com";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script src="/js/custom.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div><!-- hexo injector body_end start --><script src="https://unpkg.com/kotlin-playground@1" data-server data-version></script>
<script>

if(typeof ktpgOptions !== 'undefined'){
    KotlinPlayground('.kotlin-code',ktpgOptions)
}else{
    KotlinPlayground('.kotlin-code')
}
window.addEventListener('pjax:complete', event => {
    if(typeof ktpgOptions !== 'undefined'){
        KotlinPlayground('.kotlin-code',ktpgOptions)
    }else{
        KotlinPlayground('.kotlin-code')
    }
});
</script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --></body></html>